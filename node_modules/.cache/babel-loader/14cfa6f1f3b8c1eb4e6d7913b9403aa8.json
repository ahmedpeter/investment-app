{"ast":null,"code":"import _regeneratorRuntime from\"/Users/muhammedmusa/Documents/Other-Projects/globaltrade/investment-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/muhammedmusa/Documents/Other-Projects/globaltrade/investment-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/muhammedmusa/Documents/Other-Projects/globaltrade/investment-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{useState}from\"react\";import{Link,useHistory}from\"react-router-dom\";import Modal from\"@mui/material/Modal\";import Box from\"@mui/material/Box\";import MiniLoader from\"../../Util/Loader\";import BASE_URL from\"../../Util/API\";import logo from\"../../Assets/imgs/Git-logo.png\";import axios from\"axios\";import FormControl from\"@mui/material/FormControl\";import FormLabel from\"@mui/material/FormLabel\";import MenuItem from\"@mui/material/MenuItem\";import InputLabel from\"@mui/material/InputLabel\";import Select from\"@mui/material/Select\";import Countries from\"../../Util/Countries.json\";// import logo from '../../Assets/imgs/logo.svg';\nimport\"./auth.css\";import{ToastContainer,toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import{ErrorToaster}from\"../../Util/Toaster\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var style={position:\"absolute\",top:\"50%\",left:\"50%\",transform:\"translate(-50%, -50%)\",width:500,bgcolor:\"background.paper\",boxShadow:24,p:4};function Register(){// const [state , dispatch] = useStateValue();\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),first_name=_useState2[0],setFirstName=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),regSuccessReg=_useState4[0],setSuccessReg=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),last_name=_useState6[0],setLastName=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),email=_useState8[0],setUsername=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),financial_professional=_useState10[0],setFinancialProfessional=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),regSuccessfulModal=_useState12[0],setRegSuccessfulModal=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),phone_1=_useState14[0],setContact=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),meansOfID=_useState16[0],setMeansOfID=_useState16[1];var _useState17=useState(\"United States\"),_useState18=_slicedToArray(_useState17,2),country=_useState18[0],setCountry=_useState18[1];var _useState19=useState(true),_useState20=_slicedToArray(_useState19,2),open=_useState20[0],setOpen=_useState20[1];var handleClose=function handleClose(){return setOpen(false);};var _useState21=useState({}),_useState22=_slicedToArray(_useState21,2),user=_useState22[0],setUser=_useState22[1];var _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),error=_useState24[0],setError=_useState24[1];var _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),success=_useState26[0],setSuccess=_useState26[1];var _useState27=useState(false),_useState28=_slicedToArray(_useState27,2),loading=_useState28[0],setLoading=_useState28[1];var history=useHistory();var _useState29=useState(false),_useState30=_slicedToArray(_useState29,2),toaster=_useState30[0],setToaster=_useState30[1];var _useState31=useState(\"\"),_useState32=_slicedToArray(_useState31,2),msg=_useState32[0],setMessage=_useState32[1];var br=\"<br/>\";var submitHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);e.preventDefault();if(!(!email||!first_name||!last_name||!phone_1||!country)){_context.next=6;break;}setMessage(\"All fields are required!\");setLoading(false);return _context.abrupt(\"return\",false);case 6:axios.post(\"\".concat(BASE_URL,\"/user/create\"),{email:email,first_name:first_name,last_name:last_name,phone_1:phone_1,meansOfID:meansOfID,country:country}).then(function(response){// check if username or telephone number exist in the db to avoid duplicates\nsetLoading(false);console.log(response);var accessToken=response.data.accessToken;axios.defaults.headers.common.Authorization=\"Bearer \".concat(accessToken);localStorage.setItem(\"accessToken\",accessToken);localStorage.setItem(\"userInfo\",JSON.stringify(response));// history.push('/app/dashboard');\nsetSuccessReg(true);setRegSuccessfulModal(true);}).catch(function(err){console.log(err.error);setMessage(\"Oops! Something isn't right. Double checkup all fields\");setLoading(false);});case 7:case\"end\":return _context.stop();}}},_callee);}));return function submitHandler(_x){return _ref.apply(this,arguments);};}();function onEnter(e){e.stopPropagation();if(e.key===\"Enter\"){submitHandler();}}return/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"login__badge\",children:/*#__PURE__*/_jsx(\"div\",{className:\"logo__section\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"login__section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"register__container\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,className:\"logo\",alt:\"Logo\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"sub-title\",children:\"Creating an Account is as easy as ABC\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"login__form\",onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form mb-lg mtb-10\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"page-form f-11\",placeholder:\" \",value:first_name,autoComplete:\"off\",onChange:function onChange(e){return setFirstName(e.target.value);},required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",className:\"label-name floating__label\",children:/*#__PURE__*/_jsx(\"span\",{className:\"content-name\",children:\"First Name\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form mb-lg mtb-10\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"page-form f-11\",placeholder:\" \",value:last_name,autoComplete:\"off\",onChange:function onChange(e){return setLastName(e.target.value);},required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Last Name\",className:\"label-name floating__label\",children:/*#__PURE__*/_jsx(\"span\",{className:\"content-name\",children:\"Last Name\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form mb-lg mtb-10\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"page-form f-11\",placeholder:\" \",value:email,autoComplete:\"off\",onChange:function onChange(e){return setUsername(e.target.value);},required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",className:\"label-name floating__label\",children:/*#__PURE__*/_jsx(\"span\",{className:\"content-name\",children:\"Email\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form mb-lg mtb-10\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"page-form f-11\",placeholder:\" \",value:phone_1,autoComplete:\"off\",onChange:function onChange(e){return setContact(e.target.value);},required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Contact\",className:\"label-name floating__label\",children:/*#__PURE__*/_jsx(\"span\",{className:\"content-name\",children:\"Phone Number\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form mb-lg mtb-10\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"page-form f-11\",placeholder:\" \",name:\"meansOfID\",value:meansOfID,autoComplete:\"off\",onChange:function onChange(e){return setMeansOfID(e.target.value);},required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Contact\",className:\"label-name floating__label\",children:/*#__PURE__*/_jsx(\"span\",{className:\"content-name\",children:\"Upload Valid means of ID (Voters Card, National ID, Driver's Licence)\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form\",children:/*#__PURE__*/_jsxs(FormControl,{variant:\"standard\",style:{textAlign:\"left!important\"},children:[/*#__PURE__*/_jsx(InputLabel,{id:\"\",className:\"label-name-select\",children:\"Region\"}),/*#__PURE__*/_jsxs(Select,{labelId:\"\",id:\"\",label:\"country\",name:\"country\",onChange:function onChange(e){return setCountry(e.target.value);},value:country,color:\"success\",children:[/*#__PURE__*/_jsx(MenuItem,{value:\"\",children:/*#__PURE__*/_jsx(\"em\",{children:\"Select Region\"})}),Countries.map(function(country){return/*#__PURE__*/_jsxs(MenuItem,{value:country.name,children:[\" \",country.name,\" \"]},country.code);})]})]})}),msg&&/*#__PURE__*/_jsxs(\"p\",{className:\"typical-error\",children:[\" \",msg]}),success&&/*#__PURE__*/_jsx(\"p\",{className:\"typical-success\",children:msg}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"login-btn btn-primary\",disabled:loading,children:[!loading&&/*#__PURE__*/_jsx(\"span\",{children:\"Create Account\"}),loading&&/*#__PURE__*/_jsx(\"span\",{children:\" Submitting...\"})]}),/*#__PURE__*/_jsx(Link,{to:\"/login\",children:/*#__PURE__*/_jsx(\"span\",{className:\"sub-title\",children:\"Back to Login\"})})]})]})}),/*#__PURE__*/_jsxs(\"span\",{className:\"sub-title copyright\",children:[\"Dividend Global! \\xA9 \",new Date().getFullYear(),\". All rights reserved\"]}),toaster&&/*#__PURE__*/_jsx(ToastContainer,{}),regSuccessReg&&/*#__PURE__*/_jsx(Modal,{open:open// onClose={handleClose}\n,\"aria-labelledby\":\"modal-modal-title\",\"aria-describedby\":\"modal-modal-description\",children:/*#__PURE__*/_jsx(Box,{sx:style,children:/*#__PURE__*/_jsxs(\"p\",{children:[\" \",\"Awesome! Registration was successful. \",/*#__PURE__*/_jsx(\"br\",{}),\"An email has been sent to \",email,\" containing your password. Return to \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"})]})})})]});}export default Register;","map":{"version":3,"sources":["/Users/muhammedmusa/Documents/Other-Projects/globaltrade/investment-app/src/Components/Auth/Register.js"],"names":["React","useState","Link","useHistory","Modal","Box","MiniLoader","BASE_URL","logo","axios","FormControl","FormLabel","MenuItem","InputLabel","Select","Countries","ToastContainer","toast","ErrorToaster","style","position","top","left","transform","width","bgcolor","boxShadow","p","Register","first_name","setFirstName","regSuccessReg","setSuccessReg","last_name","setLastName","email","setUsername","financial_professional","setFinancialProfessional","regSuccessfulModal","setRegSuccessfulModal","phone_1","setContact","meansOfID","setMeansOfID","country","setCountry","open","setOpen","handleClose","user","setUser","error","setError","success","setSuccess","loading","setLoading","history","toaster","setToaster","msg","setMessage","br","submitHandler","e","preventDefault","post","then","response","console","log","accessToken","data","defaults","headers","common","Authorization","localStorage","setItem","JSON","stringify","catch","err","onEnter","stopPropagation","key","target","value","textAlign","map","name","code","Date","getFullYear"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport Modal from \"@mui/material/Modal\";\nimport Box from \"@mui/material/Box\";\nimport MiniLoader from \"../../Util/Loader\";\nimport BASE_URL from \"../../Util/API\";\nimport logo from \"../../Assets/imgs/Git-logo.png\";\nimport axios from \"axios\";\nimport FormControl from \"@mui/material/FormControl\";\nimport FormLabel from \"@mui/material/FormLabel\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport InputLabel from \"@mui/material/InputLabel\";\nimport Select from \"@mui/material/Select\";\nimport Countries from \"../../Util/Countries.json\";\n// import logo from '../../Assets/imgs/logo.svg';\nimport \"./auth.css\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { ErrorToaster } from \"../../Util/Toaster\";\n\nconst style = {\n  position: \"absolute\",\n  top: \"50%\",\n  left: \"50%\",\n  transform: \"translate(-50%, -50%)\",\n  width: 500,\n  bgcolor: \"background.paper\",\n  boxShadow: 24,\n  p: 4,\n};\n\nfunction Register() {\n  // const [state , dispatch] = useStateValue();\n  const [first_name, setFirstName] = useState(\"\");\n  const [regSuccessReg, setSuccessReg] = useState(false);\n  const [last_name, setLastName] = useState(\"\");\n  const [email, setUsername] = useState(\"\");\n  const [financial_professional, setFinancialProfessional] = useState(false);\n  const [regSuccessfulModal, setRegSuccessfulModal] = useState(false);\n  const [phone_1, setContact] = useState(\"\");\n  const [meansOfID, setMeansOfID] = useState(\"\");\n  const [country, setCountry] = useState(\"United States\");\n  const [open, setOpen] = useState(true);\n  const handleClose = () => setOpen(false);\n  const [user, setUser] = useState({});\n  const [error, setError] = useState(false);\n  const [success, setSuccess] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const history = useHistory();\n  const [toaster, setToaster] = useState(false);\n  const [msg, setMessage] = useState(\"\");\n  const br = \"<br/>\";\n\n  const submitHandler = async (e) => {\n    setLoading(true);\n    e.preventDefault();\n    if (!email || !first_name || !last_name || !phone_1 || !country) {\n      setMessage(\"All fields are required!\");\n      setLoading(false);\n      return false;\n    }\n    axios\n      .post(`${BASE_URL}/user/create`, {\n        email,\n        first_name,\n        last_name,\n        phone_1,\n        meansOfID,\n        country,\n      })\n      .then((response) => {\n        // check if username or telephone number exist in the db to avoid duplicates\n        setLoading(false);\n        console.log(response);\n        const {\n          data: { accessToken },\n        } = response;\n        axios.defaults.headers.common.Authorization = `Bearer ${accessToken}`;\n        localStorage.setItem(\"accessToken\", accessToken);\n        localStorage.setItem(\"userInfo\", JSON.stringify(response));\n        // history.push('/app/dashboard');\n        setSuccessReg(true);\n        setRegSuccessfulModal(true);\n      })\n      .catch((err) => {\n        console.log(err.error);\n        setMessage(`Oops! Something isn't right. Double checkup all fields`);\n        setLoading(false);\n      });\n  };\n\n  function onEnter(e) {\n    e.stopPropagation();\n    if (e.key === \"Enter\") {\n      submitHandler();\n    }\n  }\n\n  return (\n    <div className=\"login\">\n      <div className=\"login__badge\">\n        <div className=\"logo__section\"></div>\n      </div>\n      <div className=\"login__section\">\n        <div className=\"register__container\">\n          <img src={logo} className=\"logo\" alt=\"Logo\" /> <br />\n          <span className=\"sub-title\">\n            Creating an Account is as easy as ABC\n          </span>\n          <form className=\"login__form\" onSubmit={submitHandler}>\n            <div className=\"form mb-lg mtb-10\">\n              <input\n                type=\"text\"\n                className=\"page-form f-11\"\n                placeholder=\" \"\n                value={first_name}\n                autoComplete=\"off\"\n                onChange={(e) => setFirstName(e.target.value)}\n                required\n              />\n              <label htmlFor=\"username\" className=\"label-name floating__label\">\n                <span className=\"content-name\">First Name</span>\n              </label>\n            </div>\n            <div className=\"form mb-lg mtb-10\">\n              <input\n                type=\"text\"\n                className=\"page-form f-11\"\n                placeholder=\" \"\n                value={last_name}\n                autoComplete=\"off\"\n                onChange={(e) => setLastName(e.target.value)}\n                required\n              />\n              <label htmlFor=\"Last Name\" className=\"label-name floating__label\">\n                <span className=\"content-name\">Last Name</span>\n              </label>\n            </div>\n            <div className=\"form mb-lg mtb-10\">\n              <input\n                type=\"email\"\n                className=\"page-form f-11\"\n                placeholder=\" \"\n                value={email}\n                autoComplete=\"off\"\n                onChange={(e) => setUsername(e.target.value)}\n                required\n              />\n              <label htmlFor=\"username\" className=\"label-name floating__label\">\n                <span className=\"content-name\">Email</span>\n              </label>\n            </div>\n            <div className=\"form mb-lg mtb-10\">\n              <input\n                type=\"number\"\n                className=\"page-form f-11\"\n                placeholder=\" \"\n                value={phone_1}\n                autoComplete=\"off\"\n                onChange={(e) => setContact(e.target.value)}\n                required\n              />\n              <label htmlFor=\"Contact\" className=\"label-name floating__label\">\n                <span className=\"content-name\">Phone Number</span>\n              </label>\n            </div>\n\n            <div className=\"form mb-lg mtb-10\">\n              <input\n                type=\"file\"\n                className=\"page-form f-11\"\n                placeholder=\" \"\n                name=\"meansOfID\"\n                value={meansOfID}\n                autoComplete=\"off\"\n                onChange={(e) => setMeansOfID(e.target.value)}\n                required\n              />\n              <label htmlFor=\"Contact\" className=\"label-name floating__label\">\n                <span className=\"content-name\">\n                  Upload Valid means of ID (Voters Card, National ID, Driver's\n                  Licence)\n                </span>\n              </label>\n            </div>\n\n            <div className=\"form\">\n              <FormControl\n                variant=\"standard\"\n                style={{ textAlign: \"left!important\" }}>\n                <InputLabel id=\"\" className=\"label-name-select\">\n                  Region\n                </InputLabel>\n                <Select\n                  labelId=\"\"\n                  id=\"\"\n                  label=\"country\"\n                  name=\"country\"\n                  onChange={(e) => setCountry(e.target.value)}\n                  value={country}\n                  color=\"success\">\n                  <MenuItem value=\"\">\n                    <em>Select Region</em>\n                  </MenuItem>\n                  {Countries.map((country) => {\n                    return (\n                      <MenuItem key={country.code} value={country.name}>\n                        {\" \"}\n                        {country.name}{\" \"}\n                      </MenuItem>\n                    );\n                  })}\n                </Select>\n              </FormControl>\n            </div>\n            {msg && <p className=\"typical-error\"> {msg}</p>}\n            {success && <p className=\"typical-success\">{msg}</p>}\n            <button\n              type=\"submit\"\n              className=\"login-btn btn-primary\"\n              disabled={loading}>\n              {/* { loading && <MiniLoader/> } */}\n              {!loading && <span>Create Account</span>}\n              {loading && <span> Submitting...</span>}\n            </button>\n            {/* <p className=\"label-name\">Don't have an account yet?</p> */}\n            <Link to=\"/login\">\n              <span className=\"sub-title\">Back to Login</span>\n            </Link>\n          </form>\n        </div>\n      </div>\n\n      <span className=\"sub-title copyright\">\n        Dividend Global! &copy; {new Date().getFullYear()}. All rights reserved\n      </span>\n      {toaster && <ToastContainer />}\n\n      {regSuccessReg && (\n        <Modal\n          open={open}\n          // onClose={handleClose}\n          aria-labelledby=\"modal-modal-title\"\n          aria-describedby=\"modal-modal-description\">\n          <Box sx={style}>\n            <p>\n              {\" \"}\n              Awesome! Registration was successful. <br />\n              An email has been sent to {email} containing your password. Return\n              to <Link to=\"/login\">Login</Link>\n            </p>\n          </Box>\n        </Modal>\n      )}\n    </div>\n  );\n}\n\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}