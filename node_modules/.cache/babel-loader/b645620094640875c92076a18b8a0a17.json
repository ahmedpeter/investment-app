{"ast":null,"code":"import _regeneratorRuntime from\"/Users/muhammedmusa/Documents/Other-Projects/globaltrade/investment-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/muhammedmusa/Documents/Other-Projects/globaltrade/investment-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/muhammedmusa/Documents/Other-Projects/globaltrade/investment-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import Pagination from\"@material-ui/lab/Pagination\";import{Container,createTheme,TableCell,LinearProgress,TextField,TableBody,TableRow,TableHead,TableContainer,Table,Paper}from\"@material-ui/core\";import axios from\"axios\";import{CoinList}from\"../../Util/API\";import{useHistory}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function numberWithCommas(x){return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\");}export default function CoinsTable(){var _handleSearch;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),coins=_useState2[0],setCoins=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),search=_useState6[0],setSearch=_useState6[1];var _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),page=_useState8[0],setPage=_useState8[1];//   const useStyles = makeStyles({\n//     row: {\n//       backgroundColor: \"#16171a\",\n//       cursor: \"pointer\",\n//       \"&:hover\": {\n//         backgroundColor: \"#131111\",\n//       },\n//       fontFamily: \"Montserrat\",\n//     },\n//     pagination: {\n//       \"& .MuiPaginationItem-root\": {\n//         color: \"gold\",\n//       },\n//     },\n//   });\nvar history=useHistory();var fetchCoins=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.next=3;return axios.get(CoinList(\"USD\"));case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;// console.log(data);\nsetCoins(data);setLoading(false);case 7:case\"end\":return _context.stop();}}},_callee);}));return function fetchCoins(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchCoins();},[\"USD\"]);var handleSearch=function handleSearch(){return coins.filter(function(coin){return coin.name.toLowerCase().includes(search);}// coin.symbol.toLowerCase().includes(search)\n);};return/*#__PURE__*/_jsxs(Container,{style:{textAlign:\"center\"},children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"coin-header\",children:[\"Cryptocurrency Prices by \",/*#__PURE__*/_jsx(\"span\",{children:\" Market Cap\"})]}),/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:loading?/*#__PURE__*/_jsx(LinearProgress,{style:{backgroundColor:\"gold\"}}):/*#__PURE__*/_jsxs(Table,{\"aria-label\":\"simple table\",children:[/*#__PURE__*/_jsx(TableHead,{style:{backgroundColor:\"#EEBC1D\"},children:/*#__PURE__*/_jsx(TableRow,{children:[\"Coin\",\"Price\",\"24h Change\",\"Market Cap\"].map(function(head){return/*#__PURE__*/_jsx(TableCell,{style:{color:\"black\",fontWeight:\"700\",fontFamily:\"Montserrat\",width:\"150px\"},align:head===\"Coin\"?\"\":\"right\",children:head},head);})})}),/*#__PURE__*/_jsx(TableBody,{children:handleSearch().slice((page-1)*10,(page-1)*10+10).map(function(row){var profit=row.price_change_percentage_24h>0;return/*#__PURE__*/_jsxs(TableRow,{onClick:function onClick(){return history.push(\"/coins/\".concat(row.id));},style:{cursor:\"pointer\"},children:[/*#__PURE__*/_jsxs(TableCell,{component:\"th\",scope:\"row\",style:{display:\"flex\",gap:15},children:[/*#__PURE__*/_jsx(\"img\",{src:row===null||row===void 0?void 0:row.image,alt:row.name,height:\"50\",style:{marginBottom:10}}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexDirection:\"column\"},children:[/*#__PURE__*/_jsx(\"span\",{style:{textTransform:\"uppercase\",fontSize:22},children:row.symbol}),/*#__PURE__*/_jsx(\"span\",{style:{color:\"darkgrey\"},children:row.name})]})]}),/*#__PURE__*/_jsxs(TableCell,{align:\"right\",children:[\"$\",numberWithCommas(row.current_price.toFixed(2))]}),/*#__PURE__*/_jsxs(TableCell,{align:\"right\",style:{color:profit>0?\"rgb(14, 203, 129)\":\"red\",fontWeight:500},children:[profit&&\"+\",row.price_change_percentage_24h.toFixed(2),\"%\"]}),/*#__PURE__*/_jsxs(TableCell,{align:\"right\",children:[\"$\",numberWithCommas(row.market_cap.toString().slice(0,-6)),\"M\"]})]},row.name);})})]})}),/*#__PURE__*/_jsx(Pagination,{count:(((_handleSearch=handleSearch())===null||_handleSearch===void 0?void 0:_handleSearch.length)/10).toFixed(0),style:{padding:20,width:\"100%\",display:\"flex\",justifyContent:\"center\"}//   classes={{ ul: classes.pagination }}\n,onChange:function onChange(_,value){setPage(value);window.scroll(0,450);}})]});}","map":{"version":3,"sources":["/Users/muhammedmusa/Documents/Other-Projects/globaltrade/investment-app/src/Components/widgets/CoinsTable.js"],"names":["React","useEffect","useState","Pagination","Container","createTheme","TableCell","LinearProgress","TextField","TableBody","TableRow","TableHead","TableContainer","Table","Paper","axios","CoinList","useHistory","numberWithCommas","x","toString","replace","CoinsTable","coins","setCoins","loading","setLoading","search","setSearch","page","setPage","history","fetchCoins","get","data","handleSearch","filter","coin","name","toLowerCase","includes","textAlign","backgroundColor","map","head","color","fontWeight","fontFamily","width","slice","row","profit","price_change_percentage_24h","push","id","cursor","display","gap","image","marginBottom","flexDirection","textTransform","fontSize","symbol","current_price","toFixed","market_cap","length","padding","justifyContent","_","value","window","scroll"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Pagination from \"@material-ui/lab/Pagination\";\nimport {\n  Container,\n  createTheme,\n  TableCell,\n  LinearProgress,\n  TextField,\n  TableBody,\n  TableRow,\n  TableHead,\n  TableContainer,\n  Table,\n  Paper,\n} from \"@material-ui/core\";\nimport axios from \"axios\";\nimport { CoinList } from \"../../Util/API\";\nimport { useHistory } from \"react-router-dom\";\n\nexport function numberWithCommas(x) {\n  return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n}\n\nexport default function CoinsTable() {\n  const [coins, setCoins] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [search, setSearch] = useState(\"\");\n  const [page, setPage] = useState(1);\n\n  //   const useStyles = makeStyles({\n  //     row: {\n  //       backgroundColor: \"#16171a\",\n  //       cursor: \"pointer\",\n  //       \"&:hover\": {\n  //         backgroundColor: \"#131111\",\n  //       },\n  //       fontFamily: \"Montserrat\",\n  //     },\n  //     pagination: {\n  //       \"& .MuiPaginationItem-root\": {\n  //         color: \"gold\",\n  //       },\n  //     },\n  //   });\n  const history = useHistory();\n\n  const fetchCoins = async () => {\n    setLoading(true);\n    const { data } = await axios.get(CoinList(\"USD\"));\n    // console.log(data);\n\n    setCoins(data);\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    fetchCoins();\n  }, [\"USD\"]);\n\n  const handleSearch = () => {\n    return coins.filter(\n      (coin) => coin.name.toLowerCase().includes(search)\n      // coin.symbol.toLowerCase().includes(search)\n    );\n  };\n\n  return (\n    <Container style={{ textAlign: \"center\" }}>\n      <h3 className=\"coin-header\">\n        Cryptocurrency Prices by <span> Market Cap</span>\n      </h3>\n      <TableContainer component={Paper}>\n        {loading ? (\n          <LinearProgress style={{ backgroundColor: \"gold\" }} />\n        ) : (\n          <Table aria-label=\"simple table\">\n            <TableHead style={{ backgroundColor: \"#EEBC1D\" }}>\n              <TableRow>\n                {[\"Coin\", \"Price\", \"24h Change\", \"Market Cap\"].map((head) => (\n                  <TableCell\n                    style={{\n                      color: \"black\",\n                      fontWeight: \"700\",\n                      fontFamily: \"Montserrat\",\n                      width: \"150px\",\n                    }}\n                    key={head}\n                    align={head === \"Coin\" ? \"\" : \"right\"}>\n                    {head}\n                  </TableCell>\n                ))}\n              </TableRow>\n            </TableHead>\n\n            <TableBody>\n              {handleSearch()\n                .slice((page - 1) * 10, (page - 1) * 10 + 10)\n                .map((row) => {\n                  const profit = row.price_change_percentage_24h > 0;\n                  return (\n                    <TableRow\n                      onClick={() => history.push(`/coins/${row.id}`)}\n                      style={{\n                        cursor: \"pointer\",\n                      }}\n                      key={row.name}>\n                      <TableCell\n                        component=\"th\"\n                        scope=\"row\"\n                        style={{\n                          display: \"flex\",\n                          gap: 15,\n                        }}>\n                        <img\n                          src={row?.image}\n                          alt={row.name}\n                          height=\"50\"\n                          style={{ marginBottom: 10 }}\n                        />\n                        <div\n                          style={{ display: \"flex\", flexDirection: \"column\" }}>\n                          <span\n                            style={{\n                              textTransform: \"uppercase\",\n                              fontSize: 22,\n                            }}>\n                            {row.symbol}\n                          </span>\n                          <span style={{ color: \"darkgrey\" }}>{row.name}</span>\n                        </div>\n                      </TableCell>\n                      <TableCell align=\"right\">\n                        ${numberWithCommas(row.current_price.toFixed(2))}\n                      </TableCell>\n                      <TableCell\n                        align=\"right\"\n                        style={{\n                          color: profit > 0 ? \"rgb(14, 203, 129)\" : \"red\",\n                          fontWeight: 500,\n                        }}>\n                        {profit && \"+\"}\n                        {row.price_change_percentage_24h.toFixed(2)}%\n                      </TableCell>\n                      <TableCell align=\"right\">\n                        $\n                        {numberWithCommas(\n                          row.market_cap.toString().slice(0, -6)\n                        )}\n                        M\n                      </TableCell>\n                    </TableRow>\n                  );\n                })}\n            </TableBody>\n          </Table>\n        )}\n      </TableContainer>\n\n      {/* Comes from @material-ui/lab */}\n      <Pagination\n        count={(handleSearch()?.length / 10).toFixed(0)}\n        style={{\n          padding: 20,\n          width: \"100%\",\n          display: \"flex\",\n          justifyContent: \"center\",\n        }}\n        //   classes={{ ul: classes.pagination }}\n        onChange={(_, value) => {\n          setPage(value);\n          window.scroll(0, 450);\n        }}\n      />\n    </Container>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}