{"ast":null,"code":"import _toConsumableArray from\"/Users/muhammedmusa/Documents/Other-Projects/globaltrade/investment-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/muhammedmusa/Documents/Other-Projects/globaltrade/investment-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import Table from\"@mui/material/Table\";import TableBody from\"@mui/material/TableBody\";import TableCell from\"@mui/material/TableCell\";import TableContainer from\"@mui/material/TableContainer\";import TableHead from\"@mui/material/TableHead\";import TableRow from\"@mui/material/TableRow\";import Paper from\"@mui/material/Paper\";import axios from\"axios\";import{useLoading,Oval}from'@agney/react-loading';import{format}from\"date-fns\";import BASE_URL from\"../../Util/API\";import API from'../../Util/API';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import\"./Pages.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var style={position:'absolute',top:'50%',left:'50%',transform:'translate(-50%, -50%)',width:800,bgcolor:'background.paper',boxShadow:24,p:4};function Administrators(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),allAdmins=_useState2[0],setAllAdmins=_useState2[1];var _useLoading=useLoading({loading:true,indicator:/*#__PURE__*/_jsx(Oval,{width:\"50\"}),loaderProps:{valueText:'Please wait, loading records',style:{position:'absolute',left:'50%',top:'50%'}}}),indicatorEl=_useLoading.indicatorEl;useEffect(function(){// set loading to true\n// fetchUserDetails();\ngetAllAdministrators();// paidInTotal();\n// console.log(location);\n},[]);var getAllAdministrators=function getAllAdministrators(){var tempAdmins=[];axios.get(\"\".concat(BASE_URL,\"/users\")).then(function(response){console.log(response);var users=response.data.results;users.map(function(user){if(user.role==\"admin\"){setAllAdmins(function(allAdmins){return[].concat(_toConsumableArray(allAdmins),[user]);});}});}).catch(function(error){console.log(error);toast.error(error.message);});};var capitalizeFirstLetter=function capitalizeFirstLetter(string){return string.charAt(0).toUpperCase()+string.slice(1);};return/*#__PURE__*/_jsxs(\"div\",{className:\"account__detail\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-flex\",children:/*#__PURE__*/_jsx(\"h4\",{className:\"summary__title t-xl m-5em\",children:\"System Administrators\"})}),/*#__PURE__*/_jsx(\"section\",{className:\"summary al-base\",children:/*#__PURE__*/_jsx(\"div\",{className:\"header__info\",children:/*#__PURE__*/_jsxs(\"section\",{className:\"row\",children:[allAdmins.length===0&&/*#__PURE__*/_jsx(\"p\",{className:\"empty__record\",children:\"Oops! There are no records yet...\"}),/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{\"aria-label\":\"collapsible table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{}),/*#__PURE__*/_jsx(TableCell,{children:\"S/N\"}),/*#__PURE__*/_jsx(TableCell,{children:\"First Name\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Last Name\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Email \"}),/*#__PURE__*/_jsx(TableCell,{children:\" Role\"}),/*#__PURE__*/_jsx(TableCell,{children:\" Registered\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:allAdmins===null||allAdmins===void 0?void 0:allAdmins.map(function(admin,index){return/*#__PURE__*/_jsxs(TableRow,{sx:{\"& > *\":{borderBottom:\"unset\"}},children:[/*#__PURE__*/_jsx(TableCell,{}),/*#__PURE__*/_jsx(TableCell,{children:index+1}),/*#__PURE__*/_jsx(TableCell,{children:capitalizeFirstLetter(admin===null||admin===void 0?void 0:admin.first_name)}),/*#__PURE__*/_jsx(TableCell,{children:capitalizeFirstLetter(admin===null||admin===void 0?void 0:admin.last_name)}),/*#__PURE__*/_jsx(TableCell,{children:admin===null||admin===void 0?void 0:admin.email}),/*#__PURE__*/_jsx(TableCell,{children:capitalizeFirstLetter(admin===null||admin===void 0?void 0:admin.role)}),/*#__PURE__*/_jsxs(TableCell,{children:[\" \",format(new Date(admin===null||admin===void 0?void 0:admin.created_at),\"PP\"),\" \"]})]},admin.id);})})]})})]})})})]});}export default Administrators;","map":{"version":3,"sources":["/Users/muhammedmusa/Documents/Other-Projects/globaltrade/investment-app/src/Components/Pages/Administrators.js"],"names":["React","useState","useEffect","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","axios","useLoading","Oval","format","BASE_URL","API","ToastContainer","toast","style","position","top","left","transform","width","bgcolor","boxShadow","p","Administrators","allAdmins","setAllAdmins","loading","indicator","loaderProps","valueText","indicatorEl","getAllAdministrators","tempAdmins","get","then","response","console","log","users","data","results","map","user","role","catch","error","message","capitalizeFirstLetter","string","charAt","toUpperCase","slice","length","admin","index","borderBottom","first_name","last_name","email","Date","created_at","id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Table from \"@mui/material/Table\";\nimport TableBody from \"@mui/material/TableBody\";\nimport TableCell from \"@mui/material/TableCell\";\nimport TableContainer from \"@mui/material/TableContainer\";\nimport TableHead from \"@mui/material/TableHead\";\nimport TableRow from \"@mui/material/TableRow\";\nimport Paper from \"@mui/material/Paper\";\nimport axios from \"axios\";\nimport { useLoading, Oval } from '@agney/react-loading';\nimport { format } from \"date-fns\";\nimport BASE_URL from \"../../Util/API\";\nimport API from '../../Util/API';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport \"./Pages.scss\";\n\n\n\nconst style = {\n  position: 'absolute',\n  top: '50%',\n  left: '50%',\n  transform: 'translate(-50%, -50%)',\n  width: 800,\n  bgcolor: 'background.paper',\n  boxShadow: 24,\n  p: 4,\n};\n\n\n\n\nfunction Administrators() {\n\n  \n  const [allAdmins, setAllAdmins] = useState([]);\n  const { indicatorEl } = useLoading({\n    loading: true,\n    indicator: <Oval width=\"50\"/>,\n    loaderProps: {\n      valueText: 'Please wait, loading records',\n      style: {position:'absolute', left: '50%', top: '50%'}\n    },\n  });\n\n  useEffect(() => {\n    // set loading to true\n    // fetchUserDetails();\n    getAllAdministrators();\n    // paidInTotal();\n    // console.log(location);\n    \n  }, []);\n\n  const getAllAdministrators = ()=> {\n      let tempAdmins = [];\n    axios.get(`${BASE_URL}/users`)\n      .then((response) => {\n        console.log(response);\n        let users = response.data.results;\n        users.map((user)=>{\n            if(user.role == \"admin\"){\n                setAllAdmins(allAdmins => [...allAdmins, user] );\n            }\n        })\n        \n      })\n      .catch((error) => {\n        console.log(error);\n        toast.error(error.message);\n      });\n  }\n\n  const capitalizeFirstLetter = (string) => {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\n  return (\n    <div className=\"account__detail\">\n      <div className=\"d-flex\">\n      <h4 className=\"summary__title t-xl m-5em\">System Administrators</h4>\n        {/* <button className=\"btn bg__green pull-right bold\"> Create New Account </button> */}\n      </div>\n      <section className=\"summary al-base\">\n          <div className=\"header__info\">\n            <section className=\"row\">\n              {allAdmins.length === 0  && <p className=\"empty__record\">Oops! There are no records yet...</p>}\n              <TableContainer component={Paper}>\n                <Table aria-label=\"collapsible table\">\n                  <TableHead>\n                    <TableRow>\n                      <TableCell />\n                      <TableCell>S/N</TableCell>\n                      <TableCell>First Name</TableCell>\n                      <TableCell>Last Name</TableCell>\n                      <TableCell>Email </TableCell>\n                      <TableCell> Role</TableCell>\n                      <TableCell> Registered</TableCell>\n                    </TableRow>\n                  </TableHead>\n                  <TableBody>\n                    {allAdmins?.map((admin, index) => {\n                      return (\n                        \n                        <TableRow sx={{ \"& > *\": { borderBottom: \"unset\" } }} key={admin.id}>\n                          <TableCell></TableCell>\n                          <TableCell>{index + 1 }</TableCell>\n                          <TableCell>{capitalizeFirstLetter(admin?.first_name)}</TableCell>\n                          <TableCell>{capitalizeFirstLetter(admin?.last_name)}</TableCell>\n                          <TableCell>{admin?.email}</TableCell>\n                          <TableCell>{capitalizeFirstLetter(admin?.role)}</TableCell>\n                          <TableCell> {format(new Date(admin?.created_at), \"PP\")} </TableCell>\n                          \n                          \n                        </TableRow>\n                      );\n                    })}\n                  </TableBody>\n                </Table>\n              </TableContainer>\n            </section>\n          </div>\n        {/* </div> */}\n        \n      </section>\n    </div>\n  );\n}\n\nexport default Administrators;\n"]},"metadata":{},"sourceType":"module"}