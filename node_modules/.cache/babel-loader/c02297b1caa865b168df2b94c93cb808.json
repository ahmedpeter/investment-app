{"ast":null,"code":"import axios from 'axios';\nimport { useAuthHeader, createRefresh } from 'react-auth-kit'; // import API from '/API';\n\nconst BASE_URL = 'https://dry-falls-41890.herokuapp.com/api/v1';\nconst refreshApi = createRefresh({\n  interval: 10,\n  // Refreshs the token in every 10 minutes\n  refreshApiCallback: _ref => {\n    let {\n      authToken,\n      authTokenExpireAt,\n      refreshToken,\n      refreshTokenExpiresAt,\n      authUserState\n    } = _ref;\n    axios.post(`${BASE_URL}/token`, {\n      refreshToken: refreshToken,\n      oldAuthToken: authToken\n    }).then(_ref2 => {\n      let {\n        data\n      } = _ref2;\n      return {\n        isSuccess: true,\n        // For successful network request isSuccess is true\n        newAuthToken: data.newAuthToken,\n        newAuthTokenExpireIn: data.newAuthTokenExpireIn // You can also add new refresh token ad new user state\n\n      };\n    }).catch(e => {\n      console.error(e);\n      return {\n        isSuccess: false // For unsuccessful network request isSuccess is false\n\n      };\n    });\n  }\n});\nexport default refreshApi;","map":{"version":3,"sources":["/Users/primalaero/investment/src/Util/refreshApi.js"],"names":["axios","useAuthHeader","createRefresh","BASE_URL","refreshApi","interval","refreshApiCallback","authToken","authTokenExpireAt","refreshToken","refreshTokenExpiresAt","authUserState","post","oldAuthToken","then","data","isSuccess","newAuthToken","newAuthTokenExpireIn","catch","e","console","error"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,aAAR,EAAuBC,aAAvB,QAA2C,gBAA3C,C,CACA;;AAEA,MAAMC,QAAQ,GAAG,8CAAjB;AACA,MAAMC,UAAU,GAAGF,aAAa,CAAC;AAC/BG,EAAAA,QAAQ,EAAE,EADqB;AACf;AAChBC,EAAAA,kBAAkB,EAAE,QAOZ;AAAA,QANN;AACEC,MAAAA,SADF;AAEEC,MAAAA,iBAFF;AAGEC,MAAAA,YAHF;AAIEC,MAAAA,qBAJF;AAKEC,MAAAA;AALF,KAMM;AACNX,IAAAA,KAAK,CAACY,IAAN,CAAY,GAAET,QAAS,QAAvB,EACE;AACEM,MAAAA,YAAY,EAAEA,YADhB;AAEEI,MAAAA,YAAY,EAAEN;AAFhB,KADF,EAKEO,IALF,CAKO,SAAU;AAAA,UAAT;AAACC,QAAAA;AAAD,OAAS;AACf,aAAO;AACLC,QAAAA,SAAS,EAAE,IADN;AACa;AAClBC,QAAAA,YAAY,EAAEF,IAAI,CAACE,YAFd;AAGLC,QAAAA,oBAAoB,EAAEH,IAAI,CAACG,oBAHtB,CAIL;;AAJK,OAAP;AAMD,KAZD,EAYGC,KAZH,CAYUC,CAAD,IAAK;AACZC,MAAAA,OAAO,CAACC,KAAR,CAAcF,CAAd;AACA,aAAM;AACJJ,QAAAA,SAAS,EAAC,KADN,CACY;;AADZ,OAAN;AAGD,KAjBD;AAkBD;AA5B8B,CAAD,CAAhC;AA+BA,eAAeZ,UAAf","sourcesContent":["import axios from 'axios'\nimport {useAuthHeader, createRefresh} from 'react-auth-kit'\n// import API from '/API';\n\nconst BASE_URL = 'https://dry-falls-41890.herokuapp.com/api/v1';\nconst refreshApi = createRefresh({\n  interval: 10,   // Refreshs the token in every 10 minutes\n  refreshApiCallback: (\n    {\n      authToken,\n      authTokenExpireAt,\n      refreshToken,\n      refreshTokenExpiresAt,\n      authUserState\n    }) => {\n    axios.post(`${BASE_URL}/token`,\n      {\n        refreshToken: refreshToken,\n        oldAuthToken: authToken\n      }\n    ).then(({data})=>{\n      return {\n        isSuccess: true,  // For successful network request isSuccess is true\n        newAuthToken: data.newAuthToken,\n        newAuthTokenExpireIn: data.newAuthTokenExpireIn\n        // You can also add new refresh token ad new user state\n      }\n    }).catch((e)=>{\n      console.error(e)\n      return{\n        isSuccess:false // For unsuccessful network request isSuccess is false\n      }\n    })\n  }\n})\n\nexport default refreshApi\n"]},"metadata":{},"sourceType":"module"}