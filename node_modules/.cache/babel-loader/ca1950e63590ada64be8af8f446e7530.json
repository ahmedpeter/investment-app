{"ast":null,"code":"let BASE_URL = 'https://dry-falls-41890.herokuapp.com/api/v1';\n\nif (process.env.NODE_ENV === 'development') {\n  BASE_URL = `https://dry-falls-41890.herokuapp.com/api/v1`;\n}\n\naxios.interceptors.response.use(resp => resp, async err => {\n  if (err.response.status === 401) {\n    const response = await axios.post('refresh', {}, {\n      withCredentials: true\n    });\n\n    if (response.status === 200) {\n      axios.defaults.headers.common.Authorization = `Bearer ${resp.data.accessToken}`;\n      return axios(err.config);\n    }\n  }\n\n  return err;\n});\nexport default BASE_URL;","map":{"version":3,"sources":["/Users/primalaero/investment/src/Util/API.js"],"names":["BASE_URL","process","env","NODE_ENV","axios","interceptors","response","use","resp","err","status","post","withCredentials","defaults","headers","common","Authorization","data","accessToken","config"],"mappings":"AAAA,IAAIA,QAAQ,GAAG,8CAAf;;AACA,IAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAA7B,EAA4C;AAC1CH,EAAAA,QAAQ,GAAI,8CAAZ;AACD;;AAGDI,KAAK,CAACC,YAAN,CAAmBC,QAAnB,CAA4BC,GAA5B,CAAgCC,IAAI,IAAGA,IAAvC,EAA6C,MAAMC,GAAN,IAAY;AACvD,MAAGA,GAAG,CAACH,QAAJ,CAAaI,MAAb,KAAwB,GAA3B,EAA+B;AAC7B,UAAMJ,QAAQ,GAAG,MAAMF,KAAK,CAACO,IAAN,CAAW,SAAX,EAAsB,EAAtB,EAA0B;AAACC,MAAAA,eAAe,EAAE;AAAlB,KAA1B,CAAvB;;AAEA,QAAGN,QAAQ,CAACI,MAAT,KAAoB,GAAvB,EAA2B;AACzBN,MAAAA,KAAK,CAACS,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8BC,aAA9B,GAA+C,UAASR,IAAI,CAACS,IAAL,CAAUC,WAAY,EAA9E;AACA,aAAOd,KAAK,CAACK,GAAG,CAACU,MAAL,CAAZ;AACD;AACF;;AACD,SAAOV,GAAP;AAED,CAXD;AAeA,eAAeT,QAAf","sourcesContent":["let BASE_URL = 'https://dry-falls-41890.herokuapp.com/api/v1';\r\nif (process.env.NODE_ENV === 'development') {\r\n  BASE_URL = `https://dry-falls-41890.herokuapp.com/api/v1`;\r\n}\r\n\r\n\r\naxios.interceptors.response.use(resp=> resp, async err=> {\r\n  if(err.response.status === 401){\r\n    const response = await axios.post('refresh', {}, {withCredentials: true});\r\n\r\n    if(response.status === 200){\r\n      axios.defaults.headers.common.Authorization = `Bearer ${resp.data.accessToken}`;\r\n      return axios(err.config);\r\n    }\r\n  }\r\n  return err;\r\n\r\n})\r\n\r\n\r\n\r\nexport default BASE_URL;\r\n"]},"metadata":{},"sourceType":"module"}