{"ast":null,"code":"var _jsxFileName = \"/Users/muhammedmusa/Documents/Other-Projects/globaltrade/investment-app/src/Components/widgets/GraphInfo.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { Line, Doughnut } from \"react-chartjs-2\";\nimport BASE_URL from \"../../Util/API\";\nimport axios from \"axios\";\n\n// Doughnut Data\n\n// data for line graph\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst lineGraphData = {\n  labels: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n  datasets: [{\n    label: \"Deposit\",\n    data: [2500000, 2500000, 2500000, 6200000, 2500000, 2500000, 2500000, 11500000, 2500000, 2500000, 2500000, 2500000],\n    fill: false,\n    borderColor: \"#22c58c\"\n  }, {\n    label: \"Withdrawn\",\n    data: [25000, 700000, 7790000, 950000, 700000, 1950000],\n    fill: false,\n    borderColor: \"#ff2757\"\n  }]\n};\n\n//   Graph Options Turn Legends off\n// const options = {\n//   plugins: {\n//     legend: {\n//       display: false\n//     },\n//   }\n// }\n\nconst options = {\n  plugins: {\n    tooltip: {\n      enabled: true\n    },\n    legend: {\n      display: false\n    }\n  },\n  cutout: \"90%\",\n  responsive: true,\n  maintainAspectRatio: true,\n  spacing: 5\n};\nconst GraphInfo = () => {\n  _s();\n  const [disbursed, setDisbursed] = useState(0);\n  const [paidInByCustomers, setPaidInByCustomers] = useState(0);\n  useEffect(() => {\n    // getAllBorrowers();\n    // getUserInfo();\n    // calPaidInByCustomers();\n    // getAllLoans();\n    getAllInvestors();\n    // filterBorrowers();\n  }, []);\n  const ratioPaidLoanedBalance = {\n    labels: [\"Deposit\", \"Withdrawn\"],\n    datasets: [{\n      label: \"My Funds\",\n      data: [disbursed, paidInByCustomers],\n      backgroundColor: [\n      // 'rgb(36 111 162)',\n      \"#7bcd1cf7\", \"#ff2757\"],\n      borderColor: [\n      // 'rgb(36 111 162)',\n      \"#7bcd1cf7\", \"#ff2757\"\n      // '#7bcd1cf7'\n      ],\n\n      hoverBackgroundColor: [\n      // 'rgb(36 111 162)',\n      \"#7bcd1cf7\", \"#ff2757\"],\n      hoverOffset: 8\n    }]\n  };\n  const getAllInvestors = () => {\n    let tempArr = [];\n    let tempWithdrawal = [];\n    axios.get(`${BASE_URL}/users`).then(response => {\n      response.data.results.map(user => {\n        user.investments.map(investment => {\n          tempArr.push(investment);\n          let totalDisbursed = tempArr.reduce((total, currentValue) => total = total + currentValue.amount, 0);\n          setDisbursed(totalDisbursed);\n          //\n        });\n\n        user.withdrawals.map(withdrawal => {\n          tempWithdrawal.push(withdrawal);\n          let paidIn = tempWithdrawal.reduce((total, currentValue) => total = total + currentValue.amount, 0);\n          setPaidInByCustomers(paidIn);\n          //\n        });\n      });\n    }).catch(error => {\n      // error);\n      // toast.error(error.message);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"graph__info\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"right\",\n      children: [/*#__PURE__*/_jsxDEV(Doughnut, {\n        data: ratioPaidLoanedBalance,\n        options: options\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"legends\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"wallet bg-lemon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this), \"Deposit\", /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loaned m-l-sm bg-red\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this), \"Withdrawn\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"left\",\n      children: [/*#__PURE__*/_jsxDEV(Line, {\n        data: lineGraphData,\n        options: options\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"legends pull-right\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"investment bg-green\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this), \"Deposit\", /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"reward m-l-sm bg-red\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this), \"Withdrawn\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 141,\n    columnNumber: 5\n  }, this);\n};\n_s(GraphInfo, \"KfChzu7lWLBN6i9c+hBc/Z6xxHg=\");\n_c = GraphInfo;\nexport default GraphInfo;\nvar _c;\n$RefreshReg$(_c, \"GraphInfo\");","map":{"version":3,"names":["React","useState","useEffect","Line","Doughnut","BASE_URL","axios","jsxDEV","_jsxDEV","lineGraphData","labels","datasets","label","data","fill","borderColor","options","plugins","tooltip","enabled","legend","display","cutout","responsive","maintainAspectRatio","spacing","GraphInfo","_s","disbursed","setDisbursed","paidInByCustomers","setPaidInByCustomers","getAllInvestors","ratioPaidLoanedBalance","backgroundColor","hoverBackgroundColor","hoverOffset","tempArr","tempWithdrawal","get","then","response","results","map","user","investments","investment","push","totalDisbursed","reduce","total","currentValue","amount","withdrawals","withdrawal","paidIn","catch","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/muhammedmusa/Documents/Other-Projects/globaltrade/investment-app/src/Components/widgets/GraphInfo.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Line, Doughnut } from \"react-chartjs-2\";\r\nimport BASE_URL from \"../../Util/API\";\r\nimport axios from \"axios\";\r\n\r\n// Doughnut Data\r\n\r\n// data for line graph\r\nconst lineGraphData = {\r\n  labels: [\r\n    \"Jan\",\r\n    \"Feb\",\r\n    \"Mar\",\r\n    \"Apr\",\r\n    \"May\",\r\n    \"Jun\",\r\n    \"Jul\",\r\n    \"Aug\",\r\n    \"Sep\",\r\n    \"Oct\",\r\n    \"Nov\",\r\n    \"Dec\",\r\n  ],\r\n  datasets: [\r\n    {\r\n      label: \"Deposit\",\r\n      data: [\r\n        2500000, 2500000, 2500000, 6200000, 2500000, 2500000, 2500000, 11500000,\r\n        2500000, 2500000, 2500000, 2500000,\r\n      ],\r\n      fill: false,\r\n      borderColor: \"#22c58c\",\r\n    },\r\n    {\r\n      label: \"Withdrawn\",\r\n      data: [25000, 700000, 7790000, 950000, 700000, 1950000],\r\n      fill: false,\r\n      borderColor: \"#ff2757\",\r\n    },\r\n  ],\r\n};\r\n\r\n//   Graph Options Turn Legends off\r\n// const options = {\r\n//   plugins: {\r\n//     legend: {\r\n//       display: false\r\n//     },\r\n//   }\r\n// }\r\n\r\nconst options = {\r\n  plugins: {\r\n    tooltip: {\r\n      enabled: true,\r\n    },\r\n    legend: {\r\n      display: false,\r\n    },\r\n  },\r\n  cutout: \"90%\",\r\n  responsive: true,\r\n  maintainAspectRatio: true,\r\n  spacing: 5,\r\n};\r\n\r\nconst GraphInfo = () => {\r\n  const [disbursed, setDisbursed] = useState(0);\r\n  const [paidInByCustomers, setPaidInByCustomers] = useState(0);\r\n\r\n  useEffect(() => {\r\n    // getAllBorrowers();\r\n    // getUserInfo();\r\n    // calPaidInByCustomers();\r\n    // getAllLoans();\r\n    getAllInvestors();\r\n    // filterBorrowers();\r\n  }, []);\r\n\r\n  const ratioPaidLoanedBalance = {\r\n    labels: [\"Deposit\", \"Withdrawn\"],\r\n    datasets: [\r\n      {\r\n        label: \"My Funds\",\r\n        data: [disbursed, paidInByCustomers],\r\n        backgroundColor: [\r\n          // 'rgb(36 111 162)',\r\n          \"#7bcd1cf7\",\r\n          \"#ff2757\",\r\n        ],\r\n        borderColor: [\r\n          // 'rgb(36 111 162)',\r\n          \"#7bcd1cf7\",\r\n          \"#ff2757\",\r\n          // '#7bcd1cf7'\r\n        ],\r\n        hoverBackgroundColor: [\r\n          // 'rgb(36 111 162)',\r\n          \"#7bcd1cf7\",\r\n          \"#ff2757\",\r\n        ],\r\n        hoverOffset: 8,\r\n      },\r\n    ],\r\n  };\r\n\r\n  const getAllInvestors = () => {\r\n    let tempArr = [];\r\n    let tempWithdrawal = [];\r\n    axios\r\n      .get(`${BASE_URL}/users`)\r\n      .then((response) => {\r\n        response.data.results.map((user) => {\r\n          user.investments.map((investment) => {\r\n            tempArr.push(investment);\r\n            let totalDisbursed = tempArr.reduce(\r\n              (total, currentValue) => (total = total + currentValue.amount),\r\n              0\r\n            );\r\n            setDisbursed(totalDisbursed);\r\n            //\r\n          });\r\n          user.withdrawals.map((withdrawal) => {\r\n            tempWithdrawal.push(withdrawal);\r\n            let paidIn = tempWithdrawal.reduce(\r\n              (total, currentValue) => (total = total + currentValue.amount),\r\n              0\r\n            );\r\n            setPaidInByCustomers(paidIn);\r\n            //\r\n          });\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        // error);\r\n        // toast.error(error.message);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"graph__info\">\r\n      <div className=\"right\">\r\n        <Doughnut data={ratioPaidLoanedBalance} options={options} />\r\n\r\n        <div className=\"legends\">\r\n          <div className=\"wallet bg-lemon\"></div>Deposit\r\n          <div className=\"loaned m-l-sm bg-red\"></div>Withdrawn\r\n          {/* <div className=\"paid m-l-sm bg-blue\"></div>Wallet */}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"left\">\r\n        <Line data={lineGraphData} options={options} />\r\n        <div className=\"legends pull-right\">\r\n          <div className=\"investment bg-green\"></div>Deposit\r\n          <div className=\"reward m-l-sm bg-red\"></div>Withdrawn\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GraphInfo;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}