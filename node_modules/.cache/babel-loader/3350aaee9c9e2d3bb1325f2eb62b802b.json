{"ast":null,"code":"var _jsxFileName = \"/Users/primalaero/investment/src/Components/widgets/GraphInfo.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Line, Doughnut } from 'react-chartjs-2';\nimport BASE_URL from '../../Util/API';\nimport axios from 'axios'; // Doughnut Data \n// data for line graph\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst lineGraphData = {\n  labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n  datasets: [{\n    label: 'Deposit',\n    data: [2500000, 2500000, 2500000, 6200000, 2500000, 2500000, 2500000, 11500000, 2500000, 2500000, 2500000, 2500000],\n    fill: false,\n    borderColor: '#22c58c'\n  }, {\n    label: 'Withdrawn',\n    data: [25000, 700000, 7790000, 950000, 700000, 1950000],\n    fill: false,\n    borderColor: '#ff2757'\n  }]\n}; //   Graph Options Turn Legends off\n// const options = {\n//   plugins: {\n//     legend: {\n//       display: false\n//     },\n//   }\n// }\n\nconst options = {\n  plugins: {\n    tooltip: {\n      enabled: true\n    },\n    legend: {\n      display: false\n    }\n  },\n  // cutout: '90%',\n  responsive: true,\n  maintainAspectRatio: true,\n  spacing: 5\n};\n\nconst GraphInfo = () => {\n  _s();\n\n  const [disbursed, setDisbursed] = useState(0);\n  const [paidInByCustomers, setPaidInByCustomers] = useState(0);\n  useEffect(() => {\n    // getAllBorrowers();\n    // getUserInfo();\n    // calPaidInByCustomers();\n    // getAllLoans();\n    getAllInvestors(); // filterBorrowers();\n  }, []);\n  const ratioPaidLoanedBalance = {\n    labels: ['Deposit', 'Withdrawn'],\n    datasets: [{\n      label: 'My Funds',\n      data: [disbursed, paidInByCustomers],\n      backgroundColor: [// 'rgb(36 111 162)',\n      '#7bcd1cf7', '#ff2757'],\n      borderColor: [// 'rgb(36 111 162)',\n      '#7bcd1cf7', '#ff2757' // '#7bcd1cf7'\n      ],\n      hoverBackgroundColor: [// 'rgb(36 111 162)',\n      '#7bcd1cf7', '#ff2757'],\n      hoverOffset: 8\n    }]\n  };\n\n  const getAllInvestors = () => {\n    let tempArr = [];\n    let tempWithdrawal = [];\n    axios.get(`${BASE_URL}/users`).then(response => {\n      response.data.results.map(user => {\n        user.investments.map(investment => {\n          tempArr.push(investment);\n          let totalDisbursed = tempArr.reduce((total, currentValue) => total = total + currentValue.amount, 0);\n          setDisbursed(totalDisbursed); // \n        });\n        user.withdrawals.map(withdrawal => {\n          tempWithdrawal.push(withdrawal);\n          let paidIn = tempWithdrawal.reduce((total, currentValue) => total = total + currentValue.amount, 0);\n          setPaidInByCustomers(paidIn); // \n        });\n      });\n    }).catch(error => {\n      console.log(error); // toast.error(error.message);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"graph__info\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"right\",\n      children: [/*#__PURE__*/_jsxDEV(Doughnut, {\n        data: ratioPaidLoanedBalance,\n        options: options\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"legends\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"wallet bg-lemon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 29\n        }, this), \"Deposit\", /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loaned m-l-sm bg-red\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 29\n        }, this), \"Withdrawn\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 18\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"left\",\n      children: [/*#__PURE__*/_jsxDEV(Line, {\n        data: lineGraphData,\n        options: options\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"legends pull-right\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"investment bg-green\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 29\n        }, this), \"Deposit\", /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"reward m-l-sm bg-red\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 29\n        }, this), \"Withdrawn\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 145,\n    columnNumber: 9\n  }, this);\n};\n\n_s(GraphInfo, \"KfChzu7lWLBN6i9c+hBc/Z6xxHg=\");\n\n_c = GraphInfo;\nexport default GraphInfo;\n\nvar _c;\n\n$RefreshReg$(_c, \"GraphInfo\");","map":{"version":3,"sources":["/Users/primalaero/investment/src/Components/widgets/GraphInfo.js"],"names":["React","useState","useEffect","Line","Doughnut","BASE_URL","axios","lineGraphData","labels","datasets","label","data","fill","borderColor","options","plugins","tooltip","enabled","legend","display","responsive","maintainAspectRatio","spacing","GraphInfo","disbursed","setDisbursed","paidInByCustomers","setPaidInByCustomers","getAllInvestors","ratioPaidLoanedBalance","backgroundColor","hoverBackgroundColor","hoverOffset","tempArr","tempWithdrawal","get","then","response","results","map","user","investments","investment","push","totalDisbursed","reduce","total","currentValue","amount","withdrawals","withdrawal","paidIn","catch","error","console","log"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport { Line, Doughnut } from 'react-chartjs-2';\r\nimport BASE_URL from '../../Util/API';\r\nimport axios from 'axios';\r\n\r\n// Doughnut Data \r\n\r\n\r\n\r\n// data for line graph\r\nconst lineGraphData = {\r\n    labels: ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],\r\n    datasets: [\r\n      {\r\n        label: 'Deposit',\r\n        data: [2500000, 2500000, 2500000, 6200000, 2500000, 2500000, 2500000, 11500000, 2500000, 2500000, 2500000, 2500000 ],\r\n        fill: false,\r\n        borderColor:  '#22c58c'\r\n      },\r\n      {\r\n        label: 'Withdrawn',\r\n        data: [25000, 700000, 7790000,950000,700000, 1950000],\r\n        fill: false,\r\n        borderColor: '#ff2757'\r\n      },\r\n    ],\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n//   Graph Options Turn Legends off\r\n  // const options = {\r\n  //   plugins: {\r\n  //     legend: {\r\n  //       display: false\r\n  //     },\r\n  //   }\r\n  // }\r\n\r\n\r\n  const options = {\r\n    plugins: {\r\n      tooltip: {\r\n        enabled: true,\r\n      },\r\n      legend: {\r\n        display: false\r\n      },\r\n    },\r\n    // cutout: '90%',\r\n    responsive: true,\r\n    maintainAspectRatio: true,\r\n    spacing: 5\r\n  }\r\n\r\n\r\n\r\n\r\n\r\nconst GraphInfo = () => {\r\n\r\n\r\n  const [disbursed, setDisbursed] = useState(0);\r\n  const [paidInByCustomers, setPaidInByCustomers] = useState(0);\r\n\r\n  useEffect(() => {\r\n    // getAllBorrowers();\r\n    // getUserInfo();\r\n    // calPaidInByCustomers();\r\n    // getAllLoans();\r\n    getAllInvestors();\r\n    // filterBorrowers();\r\n  }, []);\r\n  \r\n\r\n\r\n  const ratioPaidLoanedBalance = {\r\n    labels: [ \r\n        'Deposit',\r\n        'Withdrawn'\r\n      ],\r\n      datasets: [{\r\n        label: 'My Funds',\r\n        data: [disbursed, paidInByCustomers],\r\n        backgroundColor: [\r\n          // 'rgb(36 111 162)',\r\n          '#7bcd1cf7',\r\n          '#ff2757',\r\n          \r\n        ],\r\n        borderColor: [\r\n            // 'rgb(36 111 162)',\r\n            '#7bcd1cf7',\r\n            '#ff2757',\r\n            // '#7bcd1cf7'\r\n          ],\r\n          hoverBackgroundColor: [\r\n            // 'rgb(36 111 162)',\r\n            '#7bcd1cf7',\r\n          '#ff2757',\r\n          \r\n          ],\r\n        hoverOffset: 8,\r\n      }]}\r\n\r\n\r\n\r\n  const getAllInvestors = ()=> {\r\n    let tempArr = [];\r\n    let tempWithdrawal = [];\r\n    axios.get(`${BASE_URL}/users`)\r\n      .then((response) => {\r\n        response.data.results.map((user)=>{\r\n            user.investments.map((investment)=>{\r\n                tempArr.push(investment);\r\n                let totalDisbursed = tempArr.reduce((total, currentValue) =>  total = total + currentValue.amount , 0 );\r\n                setDisbursed(totalDisbursed);\r\n                // \r\n            })\r\n            user.withdrawals.map((withdrawal)=>{\r\n              tempWithdrawal.push(withdrawal);\r\n              let paidIn = tempWithdrawal.reduce((total, currentValue) =>  total = total + currentValue.amount , 0 );\r\n              setPaidInByCustomers(paidIn);\r\n              // \r\n          })\r\n        })\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        // toast.error(error.message);\r\n      });\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    return(\r\n        <div className=\"graph__info\">\r\n            <div className=\"right\">\r\n                <Doughnut data =  {ratioPaidLoanedBalance}  options = {options}/> \r\n\r\n                 <div className=\"legends\">\r\n                            <div className=\"wallet bg-lemon\"></div>Deposit\r\n                            <div className=\"loaned m-l-sm bg-red\"></div>Withdrawn\r\n                            {/* <div className=\"paid m-l-sm bg-blue\"></div>Wallet */}\r\n                        </div>\r\n            </div>\r\n\r\n\r\n\r\n            <div className=\"left\">\r\n                        <Line data={lineGraphData} options={options} />\r\n                        <div className=\"legends pull-right\">\r\n                            <div className=\"investment bg-green\"></div>Deposit\r\n                            <div className=\"reward m-l-sm bg-red\"></div>Withdrawn\r\n                        </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default GraphInfo;"]},"metadata":{},"sourceType":"module"}