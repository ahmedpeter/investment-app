{"ast":null,"code":"import _slicedToArray from\"/Users/muhammedmusa/Documents/Other-Projects/globaltrade/investment-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import SidebarRow from'./SidebarRow';// import AppsIcon from '@material-ui/icons/Apps';\nimport EmailIcon from'@material-ui/icons/Email';import{Avatar,IconButton}from'@material-ui/core';import AppsIcon from'@material-ui/icons/Apps';import LogoutIcon from'@mui/icons-material/Logout';import AccountCircleIcon from'@mui/icons-material/AccountCircle';import LocalLibraryIcon from'@material-ui/icons/LocalLibrary';import SpeedIcon from'@material-ui/icons/Speed';import AdminPanelSettingsIcon from'@mui/icons-material/AdminPanelSettings';import GroupIcon from'@mui/icons-material/Group';import CreditScoreIcon from'@mui/icons-material/CreditScore';import'./builder.css';import{useHistory}from\"react-router-dom\";import AccountBalanceWalletIcon from'@mui/icons-material/AccountBalanceWallet';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Sidebar(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var history=useHistory();useEffect(function(){getUserInfo();return function(){setUser('');};},[]);var getUserInfo=function getUserInfo(){var userInfo=localStorage.getItem('userInfo');var user=JSON.parse(userInfo);var base64Url=user.data.accessToken.split('.')[1];var base64=base64Url.replace('-','+').replace('_','/');console.log(JSON.parse(window.atob(base64)));setUser(JSON.parse(window.atob(base64)));};return/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar\",children:[/*#__PURE__*/_jsx(SidebarRow,{path:\"/app/dashboard\",Icon:SpeedIcon,title:\"Dashboard\"}),(user===null||user===void 0?void 0:user.role)==='admin'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(SidebarRow,{path:\"/app/investor/deposit\",Icon:CreditScoreIcon,title:\"Deposits\"}),/*#__PURE__*/_jsx(SidebarRow,{path:\"/app/accounts/investors\",Icon:GroupIcon,title:\"Investors\"}),/*#__PURE__*/_jsx(SidebarRow,{path:\"/app/accounts/admins\",Icon:GroupIcon,title:\"Admins\"}),/*#__PURE__*/_jsx(SidebarRow,{path:\"/app/admin/new\",Icon:AdminPanelSettingsIcon,title:\"New Admin\"}),/*#__PURE__*/_jsx(SidebarRow,{path:\"/app/messaging\",Icon:EmailIcon,title:\"Messaging\"})]}),/*#__PURE__*/_jsx(SidebarRow,{path:\"/app/plans\",Icon:LocalLibraryIcon,title:\"Plans\"}),/*#__PURE__*/_jsx(SidebarRow,{path:\"/app/profile/${user.id}\",Icon:AccountCircleIcon,title:\"My Profile\"}),/*#__PURE__*/_jsx(SidebarRow,{Icon:LogoutIcon,onClick:function onClick(){localStorage.removeItem(\"userInfo\");history.push(\"/\");},title:\"LogOut\"})]});}export default Sidebar;","map":{"version":3,"sources":["/Users/muhammedmusa/Documents/Other-Projects/globaltrade/investment-app/src/Components/Builder/Sidebar.js"],"names":["React","useState","useEffect","SidebarRow","EmailIcon","Avatar","IconButton","AppsIcon","LogoutIcon","AccountCircleIcon","LocalLibraryIcon","SpeedIcon","AdminPanelSettingsIcon","GroupIcon","CreditScoreIcon","useHistory","AccountBalanceWalletIcon","Sidebar","user","setUser","history","getUserInfo","userInfo","localStorage","getItem","JSON","parse","base64Url","data","accessToken","split","base64","replace","console","log","window","atob","role","removeItem","push"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport SidebarRow from './SidebarRow';\r\n// import AppsIcon from '@material-ui/icons/Apps';\r\nimport EmailIcon from '@material-ui/icons/Email';\r\nimport {Avatar, IconButton} from '@material-ui/core';\r\nimport AppsIcon from '@material-ui/icons/Apps';\r\nimport LogoutIcon from '@mui/icons-material/Logout';\r\nimport AccountCircleIcon from '@mui/icons-material/AccountCircle';\r\nimport LocalLibraryIcon from '@material-ui/icons/LocalLibrary';\r\nimport SpeedIcon from '@material-ui/icons/Speed';\r\nimport AdminPanelSettingsIcon from '@mui/icons-material/AdminPanelSettings';\r\nimport GroupIcon from '@mui/icons-material/Group';\r\nimport CreditScoreIcon from '@mui/icons-material/CreditScore';\r\nimport './builder.css'\r\nimport { useHistory } from \"react-router-dom\";\r\nimport AccountBalanceWalletIcon from '@mui/icons-material/AccountBalanceWallet';\r\n\r\nfunction Sidebar() {\r\n    const [user, setUser] = useState('');\r\n    const history = useHistory();\r\n\r\n\r\n    useEffect(() => {\r\n        getUserInfo();\r\n        return () => {\r\n          setUser('');\r\n        };\r\n      }, []);\r\n\r\n\r\n\r\n    const getUserInfo =()=>{\r\n        const userInfo = localStorage.getItem('userInfo');\r\n        const user = JSON.parse(userInfo);\r\n        const base64Url = user.data.accessToken.split('.')[1];\r\n        const base64 = base64Url.replace('-', '+').replace('_', '/');\r\n        console.log(JSON.parse(window.atob(base64)))\r\n        setUser(JSON.parse(window.atob(base64)))\r\n      }\r\n\r\n      \r\n    return (\r\n        <div className=\"sidebar\">\r\n                <SidebarRow path=\"/app/dashboard\" Icon={SpeedIcon} title=\"Dashboard\"/>\r\n                {/* <SidebarRow path=\"/app/loans\" Icon={AccountBalanceWalletIcon} title=\"Deposits\"/> */}\r\n            {user?.role === 'admin' &&\r\n              <>\r\n                <SidebarRow path=\"/app/investor/deposit\" Icon={CreditScoreIcon} title=\"Deposits\"/>\r\n                <SidebarRow path=\"/app/accounts/investors\" Icon={GroupIcon} title=\"Investors\"/>\r\n                <SidebarRow path=\"/app/accounts/admins\" Icon={GroupIcon} title=\"Admins\"/>\r\n                <SidebarRow path=\"/app/admin/new\" Icon={AdminPanelSettingsIcon} title=\"New Admin\"/>\r\n                <SidebarRow path=\"/app/messaging\" Icon={EmailIcon} title=\"Messaging\"/>\r\n            </>\r\n            }\r\n                <SidebarRow path=\"/app/plans\" Icon={LocalLibraryIcon} title=\"Plans\" />\r\n                <SidebarRow path=\"/app/profile/${user.id}\" Icon={AccountCircleIcon} title=\"My Profile\"/>\r\n                <SidebarRow Icon={LogoutIcon} onClick={()=>{\r\n                        localStorage.removeItem(\"userInfo\");\r\n                        history.push(\"/\");\r\n                    }} title=\"LogOut\"/>\r\n\r\n\r\n\r\n\r\n\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Sidebar\r\n"]},"metadata":{},"sourceType":"module"}