{"ast":null,"code":"import _slicedToArray from\"/Users/muhammedmusa/Documents/Other-Projects/globaltrade/investment-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Line,Doughnut}from\"react-chartjs-2\";import BASE_URL from\"../../Util/API\";import axios from\"axios\";// Doughnut Data\n// data for line graph\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var lineGraphData={labels:[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],datasets:[{label:\"Deposit\",data:[2500000,2500000,2500000,6200000,2500000,2500000,2500000,11500000,2500000,2500000,2500000,2500000],fill:false,borderColor:\"#22c58c\"},{label:\"Withdrawn\",data:[25000,700000,7790000,950000,700000,1950000],fill:false,borderColor:\"#ff2757\"}]};//   Graph Options Turn Legends off\n// const options = {\n//   plugins: {\n//     legend: {\n//       display: false\n//     },\n//   }\n// }\nvar options={plugins:{tooltip:{enabled:true},legend:{display:false}},cutout:\"90%\",responsive:true,maintainAspectRatio:true,spacing:5};var GraphInfo=function GraphInfo(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),disbursed=_useState2[0],setDisbursed=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),paidInByCustomers=_useState4[0],setPaidInByCustomers=_useState4[1];useEffect(function(){// getAllBorrowers();\n// getUserInfo();\n// calPaidInByCustomers();\n// getAllLoans();\ngetAllInvestors();// filterBorrowers();\n},[]);var ratioPaidLoanedBalance={labels:[\"Deposit\",\"Withdrawn\"],datasets:[{label:\"My Funds\",data:[disbursed,paidInByCustomers],backgroundColor:[// 'rgb(36 111 162)',\n\"#7bcd1cf7\",\"#ff2757\"],borderColor:[// 'rgb(36 111 162)',\n\"#7bcd1cf7\",\"#ff2757\"// '#7bcd1cf7'\n],hoverBackgroundColor:[// 'rgb(36 111 162)',\n\"#7bcd1cf7\",\"#ff2757\"],hoverOffset:8}]};var getAllInvestors=function getAllInvestors(){var tempArr=[];var tempWithdrawal=[];axios.get(\"\".concat(BASE_URL,\"/users\")).then(function(response){response.data.results.map(function(user){user.investments.map(function(investment){tempArr.push(investment);var totalDisbursed=tempArr.reduce(function(total,currentValue){return total=total+currentValue.amount;},0);setDisbursed(totalDisbursed);//\n});user.withdrawals.map(function(withdrawal){tempWithdrawal.push(withdrawal);var paidIn=tempWithdrawal.reduce(function(total,currentValue){return total=total+currentValue.amount;},0);setPaidInByCustomers(paidIn);//\n});});}).catch(function(error){// error);\n// toast.error(error.message);\n});};return/*#__PURE__*/_jsxs(\"div\",{className:\"graph__info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"right\",children:[/*#__PURE__*/_jsx(Doughnut,{data:ratioPaidLoanedBalance,options:options}),/*#__PURE__*/_jsxs(\"div\",{className:\"legends\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"wallet bg-lemon\"}),\"Deposit\",/*#__PURE__*/_jsx(\"div\",{className:\"loaned m-l-sm bg-red\"}),\"Withdrawn\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"left\",children:[/*#__PURE__*/_jsx(Line,{data:lineGraphData,options:options}),/*#__PURE__*/_jsxs(\"div\",{className:\"legends pull-right\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"investment bg-green\"}),\"Deposit\",/*#__PURE__*/_jsx(\"div\",{className:\"reward m-l-sm bg-red\"}),\"Withdrawn\"]})]})]});};export default GraphInfo;","map":{"version":3,"sources":["/Users/muhammedmusa/Documents/Other-Projects/globaltrade/investment-app/src/Components/widgets/GraphInfo.js"],"names":["React","useState","useEffect","Line","Doughnut","BASE_URL","axios","lineGraphData","labels","datasets","label","data","fill","borderColor","options","plugins","tooltip","enabled","legend","display","cutout","responsive","maintainAspectRatio","spacing","GraphInfo","disbursed","setDisbursed","paidInByCustomers","setPaidInByCustomers","getAllInvestors","ratioPaidLoanedBalance","backgroundColor","hoverBackgroundColor","hoverOffset","tempArr","tempWithdrawal","get","then","response","results","map","user","investments","investment","push","totalDisbursed","reduce","total","currentValue","amount","withdrawals","withdrawal","paidIn","catch","error"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Line, Doughnut } from \"react-chartjs-2\";\r\nimport BASE_URL from \"../../Util/API\";\r\nimport axios from \"axios\";\r\n\r\n// Doughnut Data\r\n\r\n// data for line graph\r\nconst lineGraphData = {\r\n  labels: [\r\n    \"Jan\",\r\n    \"Feb\",\r\n    \"Mar\",\r\n    \"Apr\",\r\n    \"May\",\r\n    \"Jun\",\r\n    \"Jul\",\r\n    \"Aug\",\r\n    \"Sep\",\r\n    \"Oct\",\r\n    \"Nov\",\r\n    \"Dec\",\r\n  ],\r\n  datasets: [\r\n    {\r\n      label: \"Deposit\",\r\n      data: [\r\n        2500000, 2500000, 2500000, 6200000, 2500000, 2500000, 2500000, 11500000,\r\n        2500000, 2500000, 2500000, 2500000,\r\n      ],\r\n      fill: false,\r\n      borderColor: \"#22c58c\",\r\n    },\r\n    {\r\n      label: \"Withdrawn\",\r\n      data: [25000, 700000, 7790000, 950000, 700000, 1950000],\r\n      fill: false,\r\n      borderColor: \"#ff2757\",\r\n    },\r\n  ],\r\n};\r\n\r\n//   Graph Options Turn Legends off\r\n// const options = {\r\n//   plugins: {\r\n//     legend: {\r\n//       display: false\r\n//     },\r\n//   }\r\n// }\r\n\r\nconst options = {\r\n  plugins: {\r\n    tooltip: {\r\n      enabled: true,\r\n    },\r\n    legend: {\r\n      display: false,\r\n    },\r\n  },\r\n  cutout: \"90%\",\r\n  responsive: true,\r\n  maintainAspectRatio: true,\r\n  spacing: 5,\r\n};\r\n\r\nconst GraphInfo = () => {\r\n  const [disbursed, setDisbursed] = useState(0);\r\n  const [paidInByCustomers, setPaidInByCustomers] = useState(0);\r\n\r\n  useEffect(() => {\r\n    // getAllBorrowers();\r\n    // getUserInfo();\r\n    // calPaidInByCustomers();\r\n    // getAllLoans();\r\n    getAllInvestors();\r\n    // filterBorrowers();\r\n  }, []);\r\n\r\n  const ratioPaidLoanedBalance = {\r\n    labels: [\"Deposit\", \"Withdrawn\"],\r\n    datasets: [\r\n      {\r\n        label: \"My Funds\",\r\n        data: [disbursed, paidInByCustomers],\r\n        backgroundColor: [\r\n          // 'rgb(36 111 162)',\r\n          \"#7bcd1cf7\",\r\n          \"#ff2757\",\r\n        ],\r\n        borderColor: [\r\n          // 'rgb(36 111 162)',\r\n          \"#7bcd1cf7\",\r\n          \"#ff2757\",\r\n          // '#7bcd1cf7'\r\n        ],\r\n        hoverBackgroundColor: [\r\n          // 'rgb(36 111 162)',\r\n          \"#7bcd1cf7\",\r\n          \"#ff2757\",\r\n        ],\r\n        hoverOffset: 8,\r\n      },\r\n    ],\r\n  };\r\n\r\n  const getAllInvestors = () => {\r\n    let tempArr = [];\r\n    let tempWithdrawal = [];\r\n    axios\r\n      .get(`${BASE_URL}/users`)\r\n      .then((response) => {\r\n        response.data.results.map((user) => {\r\n          user.investments.map((investment) => {\r\n            tempArr.push(investment);\r\n            let totalDisbursed = tempArr.reduce(\r\n              (total, currentValue) => (total = total + currentValue.amount),\r\n              0\r\n            );\r\n            setDisbursed(totalDisbursed);\r\n            //\r\n          });\r\n          user.withdrawals.map((withdrawal) => {\r\n            tempWithdrawal.push(withdrawal);\r\n            let paidIn = tempWithdrawal.reduce(\r\n              (total, currentValue) => (total = total + currentValue.amount),\r\n              0\r\n            );\r\n            setPaidInByCustomers(paidIn);\r\n            //\r\n          });\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        // error);\r\n        // toast.error(error.message);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"graph__info\">\r\n      <div className=\"right\">\r\n        <Doughnut data={ratioPaidLoanedBalance} options={options} />\r\n\r\n        <div className=\"legends\">\r\n          <div className=\"wallet bg-lemon\"></div>Deposit\r\n          <div className=\"loaned m-l-sm bg-red\"></div>Withdrawn\r\n          {/* <div className=\"paid m-l-sm bg-blue\"></div>Wallet */}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"left\">\r\n        <Line data={lineGraphData} options={options} />\r\n        <div className=\"legends pull-right\">\r\n          <div className=\"investment bg-green\"></div>Deposit\r\n          <div className=\"reward m-l-sm bg-red\"></div>Withdrawn\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GraphInfo;\r\n"]},"metadata":{},"sourceType":"module"}