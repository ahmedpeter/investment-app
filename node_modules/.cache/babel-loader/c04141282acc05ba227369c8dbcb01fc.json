{"ast":null,"code":"import _regeneratorRuntime from\"/Users/muhammedmusa/Documents/Other-Projects/globaltrade/investment-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/muhammedmusa/Documents/Other-Projects/globaltrade/investment-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Users/muhammedmusa/Documents/Other-Projects/globaltrade/investment-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/muhammedmusa/Documents/Other-Projects/globaltrade/investment-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/muhammedmusa/Documents/Other-Projects/globaltrade/investment-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{useParams,useLocation,useHistory}from\"react-router-dom\";import{Avatar,IconButton}from\"@material-ui/core\";import FormControl from\"@mui/material/FormControl\";import FormLabel from\"@mui/material/FormLabel\";import Select from\"@mui/material/Select\";import MenuItem from\"@mui/material/MenuItem\";import InputLabel from\"@mui/material/InputLabel\";import BASE_URL from\"../../Util/API\";import axios from\"axios\";import{ToastContainer,toast}from\"react-toastify\";import\"./Pages.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Profile(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),id=_useState4[0],setId=_useState4[1];var history=useHistory();var userDetails={wallet_type:\"\",wallet_info:\"\"};var _useState5=useState(userDetails),_useState6=_slicedToArray(_useState5,2),userProfile=_useState6[0],setUserProfile=_useState6[1];var wallet_type=userProfile.wallet_type,wallet_info=userProfile.wallet_info;var handleInputChange=function handleInputChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setUserProfile(_objectSpread(_objectSpread({},userProfile),{},_defineProperty({},name,value)));};useEffect(function(){getUserInfo();},[]);var submitHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// setLoading(true);\ne.preventDefault();axios.put(\"\".concat(BASE_URL,\"/user/profile/\").concat(id),_objectSpread({},userProfile)).then(function(response){// setLoading(false);\n// response);\n}).catch(function(err){// err);\n// setLoading(false);\n});case 2:case\"end\":return _context.stop();}}},_callee);}));return function submitHandler(_x){return _ref.apply(this,arguments);};}();var getUserInfo=function getUserInfo(){var userInfo=localStorage.getItem(\"userInfo\");var user=JSON.parse(userInfo);var base64Url=user.data.accessToken.split(\".\")[1];var base64=base64Url.replace(\"-\",\"+\").replace(\"_\",\"/\");var userId=JSON.parse(window.atob(base64)).id;// JSON.parse(window.atob(base64)))\n// userId);\nhistory.push(\"/app/profile/\".concat(userId));requestForCurrentUserData(userId);setId(userId);};var requestForCurrentUserData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(\"\".concat(BASE_URL,\"/user/\").concat(id)).then(function(response){// response);\nsetUser(response.data.results);}).catch(function(error){// error);\ntoast.error(error.message);});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function requestForCurrentUserData(_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"main-content\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"row page__header\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"tab__title ml-l-5\",children:\"Manage Profile\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"headsup__info\",children:[\" \",\"(All fields marked with \",/*#__PURE__*/_jsx(\"span\",{className:\"bold\",children:\" asterisks \"}),\" are required)\"]})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"loan-form p-lg\",onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(\"h1\",{className:\"tab__title f-11\",children:\"Personal Information\"}),/*#__PURE__*/_jsxs(\"section\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"page-form\",autoComplete:\"off\",placeholder:\" \",name:\"first_name\",disabled:true,value:user.first_name,required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"First Name\",className:\"label-name\",children:/*#__PURE__*/_jsx(\"span\",{className:\"content-name required\",children:\"First Name\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"page-form\",autoComplete:\"off\",placeholder:\" \",disabled:true,value:user.last_name,name:\"last_name\",required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"last_name\",className:\"label-name\",children:/*#__PURE__*/_jsx(\"span\",{className:\"content-name required\",children:\"Last Name\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form\"})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"page-form\",autoComplete:\"off\",placeholder:\" \",disabled:true,value:user.email}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"label-name\",children:/*#__PURE__*/_jsx(\"span\",{className:\"content-name\",children:\"Email\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"state_of_residence\",className:\"page-form\",autoComplete:\"off\",placeholder:\" \",disabled:true,value:user.phone_1}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"state_of_residence\",className:\"label-name\",children:/*#__PURE__*/_jsx(\"span\",{className:\"content-name\",children:\"Primary Telephone\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"state_of_residence\",className:\"page-form\",autoComplete:\"off\",placeholder:\" \",disabled:true,value:user.country}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"state_of_residence\",className:\"label-name\",children:/*#__PURE__*/_jsx(\"span\",{className:\"content-name\",children:\"Country\"})})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"page-form\",autoComplete:\"off\",placeholder:\" \",name:\"current_password\"// value={current_password}\n,required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"First Name\",className:\"label-name\",children:/*#__PURE__*/_jsx(\"span\",{className:\"content-name required\",children:\"Current Password\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"page-form\",autoComplete:\"off\",placeholder:\" \"// value={new_password}\n,name:\"new_password\",required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"new_password\",className:\"label-name\",children:/*#__PURE__*/_jsx(\"span\",{className:\"content-name required\",children:\"New Password\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form\"})]}),/*#__PURE__*/_jsx(\"h1\",{className:\"tab__title f-11\",children:\"Wallet Information\"}),/*#__PURE__*/_jsxs(\"section\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form\",children:/*#__PURE__*/_jsx(FormControl,{variant:\"standard\",children:/*#__PURE__*/_jsxs(Select,{labelId:\"\",id:\"\",label:\"Wallet Type\",name:\"wallet_type\",onChange:handleInputChange,value:user.wallet_type,color:\"success\",children:[/*#__PURE__*/_jsx(MenuItem,{value:\"\",children:/*#__PURE__*/_jsx(\"em\",{children:\"Select Wallet Type\"})}),/*#__PURE__*/_jsx(MenuItem,{value:\"BitCoin\",children:\" BitCoin \"}),/*#__PURE__*/_jsx(MenuItem,{value:\"BitCoin 1\",children:\" BitCoin \"}),/*#__PURE__*/_jsx(MenuItem,{value:\"BitCoin 2\",children:\" BitCoin \"}),/*#__PURE__*/_jsx(MenuItem,{value:\"BitCoin 3\",children:\" BitCoin \"})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"page-form\",autoComplete:\"off\",placeholder:\" \",onChange:handleInputChange,value:user.wallet_info,name:\"wallet_address\",required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"wallet_address\",className:\"label-name\",children:/*#__PURE__*/_jsx(\"span\",{className:\"content-name required\",children:\"Wallet Address\"})})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"btn ml-0\",children:[\"Update Wallet\",\" \"]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn bg__green\",children:\"Save Password\"})]})]})]});}export default Profile;","map":{"version":3,"sources":["/Users/muhammedmusa/Documents/Other-Projects/globaltrade/investment-app/src/Components/Pages/UserProfile.js"],"names":["React","useEffect","useState","useParams","useLocation","useHistory","Avatar","IconButton","FormControl","FormLabel","Select","MenuItem","InputLabel","BASE_URL","axios","ToastContainer","toast","Profile","user","setUser","id","setId","history","userDetails","wallet_type","wallet_info","userProfile","setUserProfile","handleInputChange","e","target","name","value","getUserInfo","submitHandler","preventDefault","put","then","response","catch","err","userInfo","localStorage","getItem","JSON","parse","base64Url","data","accessToken","split","base64","replace","userId","window","atob","push","requestForCurrentUserData","get","results","error","message","first_name","last_name","email","phone_1","country"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useParams, useLocation, useHistory } from \"react-router-dom\";\r\nimport { Avatar, IconButton } from \"@material-ui/core\";\r\nimport FormControl from \"@mui/material/FormControl\";\r\nimport FormLabel from \"@mui/material/FormLabel\";\r\nimport Select from \"@mui/material/Select\";\r\nimport MenuItem from \"@mui/material/MenuItem\";\r\nimport InputLabel from \"@mui/material/InputLabel\";\r\nimport BASE_URL from \"../../Util/API\";\r\nimport axios from \"axios\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"./Pages.scss\";\r\n\r\nfunction Profile() {\r\n  const [user, setUser] = useState([]);\r\n  const [id, setId] = useState();\r\n\r\n  const history = useHistory();\r\n  const userDetails = {\r\n    wallet_type: \"\",\r\n    wallet_info: \"\",\r\n  };\r\n  const [userProfile, setUserProfile] = useState(userDetails);\r\n  const { wallet_type, wallet_info } = userProfile;\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setUserProfile({ ...userProfile, [name]: value });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getUserInfo();\r\n  }, []);\r\n\r\n  const submitHandler = async (e) => {\r\n    // setLoading(true);\r\n    e.preventDefault();\r\n    axios\r\n      .put(`${BASE_URL}/user/profile/${id}`, {\r\n        ...userProfile,\r\n      })\r\n      .then((response) => {\r\n        // setLoading(false);\r\n        // response);\r\n      })\r\n      .catch((err) => {\r\n        // err);\r\n        // setLoading(false);\r\n      });\r\n  };\r\n\r\n  const getUserInfo = () => {\r\n    const userInfo = localStorage.getItem(\"userInfo\");\r\n    const user = JSON.parse(userInfo);\r\n    const base64Url = user.data.accessToken.split(\".\")[1];\r\n    const base64 = base64Url.replace(\"-\", \"+\").replace(\"_\", \"/\");\r\n    let userId = JSON.parse(window.atob(base64)).id;\r\n    // JSON.parse(window.atob(base64)))\r\n    // userId);\r\n    history.push(`/app/profile/${userId}`);\r\n    requestForCurrentUserData(userId);\r\n    setId(userId);\r\n  };\r\n\r\n  const requestForCurrentUserData = async (id) => {\r\n    await axios\r\n      .get(`${BASE_URL}/user/${id}`)\r\n      .then((response) => {\r\n        // response);\r\n        setUser(response.data.results);\r\n      })\r\n      .catch((error) => {\r\n        // error);\r\n        toast.error(error.message);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"main-content\">\r\n      <section className=\"row page__header\">\r\n        <h1 className=\"tab__title ml-l-5\">Manage Profile</h1>\r\n        <span className=\"headsup__info\">\r\n          {\" \"}\r\n          (All fields marked with <span className=\"bold\"> asterisks </span> are\r\n          required)\r\n        </span>\r\n      </section>\r\n\r\n      <form className=\"loan-form p-lg\" onSubmit={submitHandler}>\r\n        <h1 className=\"tab__title f-11\">Personal Information</h1>\r\n        <section className=\"row\">\r\n          <div className=\"form\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"page-form\"\r\n              autoComplete=\"off\"\r\n              placeholder=\" \"\r\n              name=\"first_name\"\r\n              disabled\r\n              value={user.first_name}\r\n              required\r\n            />\r\n            <label htmlFor=\"First Name\" className=\"label-name\">\r\n              <span className=\"content-name required\">First Name</span>\r\n            </label>\r\n          </div>\r\n          <div className=\"form\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"page-form\"\r\n              autoComplete=\"off\"\r\n              placeholder=\" \"\r\n              disabled\r\n              value={user.last_name}\r\n              name=\"last_name\"\r\n              required\r\n            />\r\n            <label htmlFor=\"last_name\" className=\"label-name\">\r\n              <span className=\"content-name required\">Last Name</span>\r\n            </label>\r\n          </div>\r\n          <div className=\"form\"></div>\r\n        </section>\r\n        <section className=\"row\">\r\n          <div className=\"form\">\r\n            <input\r\n              type=\"email\"\r\n              className=\"page-form\"\r\n              autoComplete=\"off\"\r\n              placeholder=\" \"\r\n              disabled\r\n              value={user.email}\r\n            />\r\n            <label htmlFor=\"email\" className=\"label-name\">\r\n              <span className=\"content-name\">Email</span>\r\n            </label>\r\n          </div>\r\n\r\n          <div className=\"form\">\r\n            <input\r\n              type=\"state_of_residence\"\r\n              className=\"page-form\"\r\n              autoComplete=\"off\"\r\n              placeholder=\" \"\r\n              disabled\r\n              value={user.phone_1}\r\n            />\r\n            <label htmlFor=\"state_of_residence\" className=\"label-name\">\r\n              <span className=\"content-name\">Primary Telephone</span>\r\n            </label>\r\n          </div>\r\n          <div className=\"form\">\r\n            <input\r\n              type=\"state_of_residence\"\r\n              className=\"page-form\"\r\n              autoComplete=\"off\"\r\n              placeholder=\" \"\r\n              disabled\r\n              value={user.country}\r\n            />\r\n            <label htmlFor=\"state_of_residence\" className=\"label-name\">\r\n              <span className=\"content-name\">Country</span>\r\n            </label>\r\n          </div>\r\n        </section>\r\n\r\n        <section className=\"row\">\r\n          <div className=\"form\">\r\n            <input\r\n              type=\"password\"\r\n              className=\"page-form\"\r\n              autoComplete=\"off\"\r\n              placeholder=\" \"\r\n              name=\"current_password\"\r\n              // value={current_password}\r\n              required\r\n            />\r\n            <label htmlFor=\"First Name\" className=\"label-name\">\r\n              <span className=\"content-name required\">Current Password</span>\r\n            </label>\r\n          </div>\r\n          <div className=\"form\">\r\n            <input\r\n              type=\"password\"\r\n              className=\"page-form\"\r\n              autoComplete=\"off\"\r\n              placeholder=\" \"\r\n              // value={new_password}\r\n              name=\"new_password\"\r\n              required\r\n            />\r\n            <label htmlFor=\"new_password\" className=\"label-name\">\r\n              <span className=\"content-name required\">New Password</span>\r\n            </label>\r\n          </div>\r\n          <div className=\"form\"></div>\r\n        </section>\r\n        <h1 className=\"tab__title f-11\">Wallet Information</h1>\r\n        <section className=\"row\">\r\n          <div className=\"form\">\r\n            <FormControl variant=\"standard\">\r\n              <Select\r\n                labelId=\"\"\r\n                id=\"\"\r\n                label=\"Wallet Type\"\r\n                name=\"wallet_type\"\r\n                onChange={handleInputChange}\r\n                value={user.wallet_type}\r\n                color=\"success\">\r\n                <MenuItem value=\"\">\r\n                  <em>Select Wallet Type</em>\r\n                </MenuItem>\r\n                <MenuItem value=\"BitCoin\"> BitCoin </MenuItem>\r\n                <MenuItem value=\"BitCoin 1\"> BitCoin </MenuItem>\r\n                <MenuItem value=\"BitCoin 2\"> BitCoin </MenuItem>\r\n                <MenuItem value=\"BitCoin 3\"> BitCoin </MenuItem>\r\n              </Select>\r\n            </FormControl>\r\n          </div>\r\n          <div className=\"form\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"page-form\"\r\n              autoComplete=\"off\"\r\n              placeholder=\" \"\r\n              onChange={handleInputChange}\r\n              value={user.wallet_info}\r\n              name=\"wallet_address\"\r\n              required\r\n            />\r\n            <label htmlFor=\"wallet_address\" className=\"label-name\">\r\n              <span className=\"content-name required\">Wallet Address</span>\r\n            </label>\r\n          </div>\r\n          <button type=\"submit\" className=\"btn ml-0\">\r\n            Update Wallet{\" \"}\r\n          </button>\r\n          <button className=\"btn bg__green\">Save Password</button>\r\n        </section>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Profile;\r\n"]},"metadata":{},"sourceType":"module"}