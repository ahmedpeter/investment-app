{"ast":null,"code":"import _toConsumableArray from\"/Users/muhammedmusa/Documents/Other-Projects/globaltrade/investment-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/muhammedmusa/Documents/Other-Projects/globaltrade/investment-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import Typography from'@mui/material/Typography';import Box from'@mui/material/Box';import Table from\"@mui/material/Table\";import TableBody from\"@mui/material/TableBody\";import TableCell from\"@mui/material/TableCell\";import TableContainer from\"@mui/material/TableContainer\";import TableHead from\"@mui/material/TableHead\";import TableRow from\"@mui/material/TableRow\";import Paper from\"@mui/material/Paper\";import axios from\"axios\";import API from'../../Util/API';import{Link,useHistory}from\"react-router-dom\";import{useLoading,Oval}from'@agney/react-loading';import{format}from\"date-fns\";// import numberFormat from \"../../Util/CurrencyFormatter\";\nimport BASE_URL from\"../../Util/API\";// import { useParams, useLocation } from \"react-router-dom\";\nimport{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import\"./Pages.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var style={position:'absolute',top:'50%',left:'50%',transform:'translate(-50%, -50%)',width:800,bgcolor:'background.paper',boxShadow:24,p:4};function Investors(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),allInvestors=_useState2[0],setAllInvestors=_useState2[1];var _useLoading=useLoading({loading:true,indicator:/*#__PURE__*/_jsx(Oval,{width:\"50\"}),loaderProps:{valueText:'Please wait, loading records',style:{position:'absolute',left:'50%',top:'50%'}}}),indicatorEl=_useLoading.indicatorEl;var history=useHistory();useEffect(function(){// set loading to true\n// fetchUserDetails();\ngetAllInvestors();// paidInTotal();\n// console.log(location);\n},[]);var getAllInvestors=function getAllInvestors(){axios.get(\"\".concat(BASE_URL,\"/users\")).then(function(response){console.log(response);var users=response.data.results;users.map(function(user){if(user.role==\"user\"){setAllInvestors(function(allInvestors){return[].concat(_toConsumableArray(allInvestors),[user]);});}});// setAllInvestors(response.data.results);\n// toast.success(response.data.message);\n}).catch(function(error){console.log(error);toast.error(error.message);});};var handleClick=function handleClick(id){history.push(\"/app/account/\".concat(id));console.log(id);};var capitalizeFirstLetter=function capitalizeFirstLetter(string){return string.charAt(0).toUpperCase()+string.slice(1);};return/*#__PURE__*/_jsxs(\"div\",{className:\"account__detail\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-flex\",children:/*#__PURE__*/_jsx(\"h4\",{className:\"summary__title t-xl m-5em\",children:\"All Investors\"})}),/*#__PURE__*/_jsx(\"section\",{className:\"summary al-base\",children:/*#__PURE__*/_jsx(\"div\",{className:\"header__info\",children:/*#__PURE__*/_jsxs(\"section\",{className:\"row\",children:[allInvestors===0&&/*#__PURE__*/_jsx(\"p\",{className:\"empty__record\",children:\"Oops! There are no records yet...\"}),/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{\"aria-label\":\"collapsible table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{}),/*#__PURE__*/_jsx(TableCell,{children:\"S/N\"}),/*#__PURE__*/_jsx(TableCell,{children:\"First Name\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Last Name\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Telephone\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Email \"}),/*#__PURE__*/_jsx(TableCell,{children:\" Role\"}),/*#__PURE__*/_jsx(TableCell,{children:\" Registered\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:allInvestors===null||allInvestors===void 0?void 0:allInvestors.map(function(investor,index){return/*#__PURE__*/_jsxs(TableRow,{sx:{\"& > *\":{borderBottom:\"unset\"}},onClick:function onClick(){return handleClick(investor.id);},children:[/*#__PURE__*/_jsx(TableCell,{}),/*#__PURE__*/_jsx(TableCell,{children:index+1}),/*#__PURE__*/_jsx(TableCell,{children:capitalizeFirstLetter(investor===null||investor===void 0?void 0:investor.first_name)}),/*#__PURE__*/_jsx(TableCell,{children:capitalizeFirstLetter(investor===null||investor===void 0?void 0:investor.last_name)}),/*#__PURE__*/_jsx(TableCell,{children:investor===null||investor===void 0?void 0:investor.phone_1}),/*#__PURE__*/_jsx(TableCell,{children:investor===null||investor===void 0?void 0:investor.email}),/*#__PURE__*/_jsx(TableCell,{children:(investor===null||investor===void 0?void 0:investor.role)==='user'?'Investor':capitalizeFirstLetter(investor===null||investor===void 0?void 0:investor.role)}),/*#__PURE__*/_jsxs(TableCell,{children:[\" \",format(new Date(investor===null||investor===void 0?void 0:investor.created_at),\"PP\"),\" \"]})]},investor.id);})})]})})]})})})]});}export default Investors;","map":{"version":3,"sources":["/Users/muhammedmusa/Documents/Other-Projects/globaltrade/investment-app/src/Components/Pages/Investors.js"],"names":["React","useState","useEffect","Typography","Box","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","axios","API","Link","useHistory","useLoading","Oval","format","BASE_URL","ToastContainer","toast","style","position","top","left","transform","width","bgcolor","boxShadow","p","Investors","allInvestors","setAllInvestors","loading","indicator","loaderProps","valueText","indicatorEl","history","getAllInvestors","get","then","response","console","log","users","data","results","map","user","role","catch","error","message","handleClick","id","push","capitalizeFirstLetter","string","charAt","toUpperCase","slice","investor","index","borderBottom","first_name","last_name","phone_1","email","Date","created_at"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Typography from '@mui/material/Typography';\nimport Box from '@mui/material/Box';\nimport Table from \"@mui/material/Table\";\nimport TableBody from \"@mui/material/TableBody\";\nimport TableCell from \"@mui/material/TableCell\";\nimport TableContainer from \"@mui/material/TableContainer\";\nimport TableHead from \"@mui/material/TableHead\";\nimport TableRow from \"@mui/material/TableRow\";\nimport Paper from \"@mui/material/Paper\";\nimport axios from \"axios\";\nimport API from '../../Util/API';\nimport { Link, useHistory } from \"react-router-dom\";\nimport { useLoading, Oval } from '@agney/react-loading';\nimport { format } from \"date-fns\";\n// import numberFormat from \"../../Util/CurrencyFormatter\";\nimport BASE_URL from \"../../Util/API\";\n// import { useParams, useLocation } from \"react-router-dom\";\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport \"./Pages.scss\";\n\n\n\nconst style = {\n  position: 'absolute',\n  top: '50%',\n  left: '50%',\n  transform: 'translate(-50%, -50%)',\n  width: 800,\n  bgcolor: 'background.paper',\n  boxShadow: 24,\n  p: 4,\n};\n\n\n\n\nfunction Investors() {\n\n  \n  const [allInvestors, setAllInvestors] = useState([]);\n  const { indicatorEl } = useLoading({\n    loading: true,\n    indicator: <Oval width=\"50\"/>,\n    loaderProps: {\n      valueText: 'Please wait, loading records',\n      style: {position:'absolute', left: '50%', top: '50%'}\n    },\n  });\n\n  const history = useHistory();\n  useEffect(() => {\n    // set loading to true\n    // fetchUserDetails();\n    getAllInvestors();\n    // paidInTotal();\n    // console.log(location);\n    \n  }, []);\n\n  const getAllInvestors = ()=> {\n    axios.get(`${BASE_URL}/users`)\n      .then((response) => {\n        console.log(response);\n        let users = response.data.results;\n        users.map((user)=>{\n            if(user.role == \"user\"){\n                setAllInvestors(allInvestors => [...allInvestors, user] );\n            }\n        })\n// setAllInvestors(response.data.results);\n        // toast.success(response.data.message);\n        \n      })\n      .catch((error) => {\n        console.log(error);\n        toast.error(error.message);\n      });\n  }\n\n  const handleClick = (id) => {\n    history.push(`/app/account/${id}`)\n    console.log(id);\n  }\n\n  const capitalizeFirstLetter = (string) => {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\n  return (\n    <div className=\"account__detail\">\n      <div className=\"d-flex\">\n      <h4 className=\"summary__title t-xl m-5em\">All Investors</h4>\n        {/* <button className=\"btn bg__green pull-right bold\"> Create New Account </button> */}\n      </div>\n      <section className=\"summary al-base\">\n          <div className=\"header__info\">\n            <section className=\"row\">\n            {allInvestors === 0 && <p className=\"empty__record\">Oops! There are no records yet...</p>}\n              <TableContainer component={Paper}>\n                <Table aria-label=\"collapsible table\">\n                  <TableHead>\n                    <TableRow>\n                      <TableCell />\n                      <TableCell>S/N</TableCell>\n                      <TableCell>First Name</TableCell>\n                      <TableCell>Last Name</TableCell>\n                      <TableCell>Telephone</TableCell>\n                      <TableCell>Email </TableCell>\n                      <TableCell> Role</TableCell>\n                      <TableCell> Registered</TableCell>\n                    </TableRow>\n                  </TableHead>\n                  <TableBody>\n                    {allInvestors?.map((investor, index) => {\n                      return (\n                        \n                        <TableRow sx={{ \"& > *\": { borderBottom: \"unset\" } }} onClick={() => handleClick(investor.id)}  key={investor.id} >\n                          <TableCell></TableCell>\n                          <TableCell>{index + 1 }</TableCell>\n                          <TableCell>{capitalizeFirstLetter(investor?.first_name)}</TableCell>\n                          <TableCell>{capitalizeFirstLetter(investor?.last_name)}</TableCell>\n                          <TableCell>{investor?.phone_1}</TableCell>\n                          <TableCell>{investor?.email}</TableCell>\n                          <TableCell>{investor?.role ===  'user'? 'Investor': capitalizeFirstLetter(investor?.role)}</TableCell>\n                          <TableCell> {format(new Date(investor?.created_at), \"PP\")} </TableCell>\n                          \n                          \n                        </TableRow>\n                      );\n                    })}\n                  </TableBody>\n                </Table>\n              </TableContainer>\n            </section>\n          </div>\n        {/* </div> */}\n        \n      </section>\n    </div>\n  );\n}\n\nexport default Investors;\n"]},"metadata":{},"sourceType":"module"}