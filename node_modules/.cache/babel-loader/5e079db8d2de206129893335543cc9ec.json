{"ast":null,"code":"import _regeneratorRuntime from\"/Users/muhammedmusa/Documents/Other-Projects/globaltrade/investment-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/muhammedmusa/Documents/Other-Projects/globaltrade/investment-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/muhammedmusa/Documents/Other-Projects/globaltrade/investment-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";// import React from 'react';\n// import {useState} from \"react\";\n// import { Link, useHistory } from 'react-router-dom';\n// import MiniLoader from '../../Util/Loader';\n// import API from '../../Util/API';\n// import axios from 'axios';\n// import logo from '../../Assets/imgs/Git-logo.png';\n// import './auth.css'\n// import { ToastContainer, toast } from 'react-toastify';\n// import 'react-toastify/dist/ReactToastify.css';\n// import {ErrorToaster} from '../../Util/Toaster'\n// function Login() {\n//     const [username, setUsername] = useState(\"\");\n//     const [password, setPassword] = useState(\"\");\n//     const [success, setSuccess] = useState(false);\n//     const [loading, setLoading] = useState(false);\n//     const history = useHistory();\n//     const [toaster, setToaster] = useState(false);\n//     const [msg, setMessage] = useState(\"\");\n//     const submitHandler = async (e) => {\n//         const BASE_URL = 'https://dry-falls-41890.herokuapp.com/api/v1';\n//         setLoading(true);\n//         e.preventDefault();\n//         if(!username || !password){\n//             setMessage(\"Username/Password is a required field\");\n//             return false\n//         }\n//           axios\n//       .post(`${BASE_URL}/login`, { username, password })\n//       .then((response) => {\n//         setLoading(false);\n//         response);\n//         const data = response.data;\n//         axios.defaults.headers.common.Authorization = `Bearer ${data.accessToken}`;\n//         localStorage.setItem('accessToken', data.accessToken);\n//         const storedToken = JSON.parse(localStorage.getItem(\"accessToken\"));\n//        const rs = axios.post(`${BASE_URL}/token`, {\n//             refresh_token: storedToken.refreshToken,\n//           })\n//           const { token, user } = rs.data;\n//           localStorage.setItem(\"token\", JSON.stringify(token));\n//             localStorage.setItem(\"user\", JSON.stringify(user));\n//         return;\n//         localStorage.setItem('userInfo', JSON.stringify(response));\n//       })\n//       .catch((err) => {\n//           err);\n//           setMessage(`Oops! Something isn't right. Confirm\n//           (a) Your Username/Password and\n//           (b) Your Network connectivity`)\n//         setLoading(false);\n//       });\n//     }\nimport React from\"react\";import{useState}from\"react\";import{Link,useHistory}from\"react-router-dom\";import MiniLoader from\"../../Util/Loader\";import BASE_URL from\"../../Util/API\";import API from\"../../Util/API\";import axios from\"axios\";import logo from\"../../Assets/imgs/Git-logo.png\";import{ToastContainer,toast}from\"react-toastify\";import\"./auth.css\";import{ErrorToaster}from\"../../Util/Toaster\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){// const [state , dispatch] = useStateValue();\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),user=_useState6[0],setUser=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),success=_useState10[0],setSuccess=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),loading=_useState12[0],setLoading=_useState12[1];var history=useHistory();var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),toaster=_useState14[0],setToaster=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),msg=_useState16[0],setMessage=_useState16[1];var br=\"<br/>\";var submitHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var BASE_URL;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// \"hello\");\nBASE_URL=\"https://investment-app-x8v6.onrender.com/api/v1\";setLoading(true);e.preventDefault();if(!(!username||!password)){_context.next=6;break;}setMessage(\"Username/Password is a required field\");return _context.abrupt(\"return\",false);case 6:axios.post(\"\".concat(BASE_URL,\"/login\"),{username:username,password:password}).then(function(response){setLoading(false);// response);\nvar accessToken=response.data.accessToken;var data=response.data;if(response.status==200){localStorage.setItem(\"userInfo\",JSON.stringify(response));history.push(\"/app/dashboard\");}axios.defaults.headers.common.Authorization=\"Bearer \".concat(accessToken);localStorage.setItem(\"accessToken\",accessToken);axios.defaults.headers.common.Authorization=\"Bearer \".concat(data.accessToken);localStorage.setItem(\"accessToken\",data.accessToken);var storedToken=JSON.parse(localStorage.getItem(\"accessToken\"));// localStorage.setItem('accessToken', data.accessToken);\nvar rs=axios.post(\"\".concat(BASE_URL,\"/token\"),{refresh_token:storedToken.refreshToken});var _rs$data=rs.data,token=_rs$data.token,user=_rs$data.user;localStorage.setItem(\"token\",JSON.stringify(token));localStorage.setItem(\"user\",JSON.stringify(user));return;//   .then((response) => {\n//     response);\n//     const { data } = response;\n//     localStorage.setItem('operator', JSON.stringify(data));\n//     data)\n//   });\n}).catch(function(err){// err);\nsetMessage(\"Oops! Something isn't right. Confirm \\n           (a) Your Username/Password and \\n           (b) Your Network connectivity\");setLoading(false);});case 7:case\"end\":return _context.stop();}}},_callee);}));return function submitHandler(_x){return _ref.apply(this,arguments);};}();function onEnter(e){e.stopPropagation();if(e.key===\"Enter\"){submitHandler();}}return/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"login__badge\",children:/*#__PURE__*/_jsx(\"div\",{className:\"logo__section\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"login__section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login__container\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,className:\"logo\",alt:\"Logo\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"sub-title\",children:\"Login to Dividend Global\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"login__form\",onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form mb-lg mtb-10\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"page-form f-11\",placeholder:\" \",value:username,autoComplete:\"off\",onChange:function onChange(e){return setUsername(e.target.value);},required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",className:\"label-name floating__label\",children:/*#__PURE__*/_jsx(\"span\",{className:\"content-name\",children:\"Username/ID\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form mtb-10\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"page-form f-11\",placeholder:\" \",value:password,autoComplete:\"off\",onChange:function onChange(e){return setPassword(e.target.value);},required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"label-name floating__label\",children:/*#__PURE__*/_jsx(\"span\",{className:\"content-name\",children:\"Security\"})})]}),msg&&/*#__PURE__*/_jsxs(\"p\",{className:\"typical-error\",children:[\" \",msg]}),success&&/*#__PURE__*/_jsx(\"p\",{className:\"typical-success\",children:msg}),/*#__PURE__*/_jsx(Link,{to:\"/password-reset\",children:/*#__PURE__*/_jsx(\"span\",{className:\"sub-title t-right mt-md mb-lg\",children:\"Forgotten?\"})}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"login-btn\",disabled:loading,children:[!loading&&/*#__PURE__*/_jsx(\"span\",{children:\"Login\"}),loading&&/*#__PURE__*/_jsx(\"span\",{children:\" Verifying...\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"sub-title\",children:\"Don't have an account yet?\"}),/*#__PURE__*/_jsx(Link,{to:\"/account/investor/new\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",children:\"Open Account \"})})]})]})}),/*#__PURE__*/_jsxs(\"span\",{className:\"sub-title copyright\",children:[\"Dividend Global! \\xA9 \",new Date().getFullYear(),\". All rights reserved\"]}),toaster&&/*#__PURE__*/_jsx(ToastContainer,{})]});}export default Login;","map":{"version":3,"sources":["/Users/muhammedmusa/Documents/Other-Projects/globaltrade/investment-app/src/Components/Auth/Login.js"],"names":["React","useState","Link","useHistory","MiniLoader","BASE_URL","API","axios","logo","ToastContainer","toast","ErrorToaster","Login","username","setUsername","password","setPassword","user","setUser","error","setError","success","setSuccess","loading","setLoading","history","toaster","setToaster","msg","setMessage","br","submitHandler","e","preventDefault","post","then","response","accessToken","data","status","localStorage","setItem","JSON","stringify","push","defaults","headers","common","Authorization","storedToken","parse","getItem","rs","refresh_token","refreshToken","token","catch","err","onEnter","stopPropagation","key","target","value","Date","getFullYear"],"mappings":"ujBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,OAASC,IAAT,CAAeC,UAAf,KAAiC,kBAAjC,CACA,MAAOC,CAAAA,UAAP,KAAuB,mBAAvB,CACA,MAAOC,CAAAA,QAAP,KAAqB,gBAArB,CACA,MAAOC,CAAAA,GAAP,KAAgB,gBAAhB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,gCAAjB,CACA,OAASC,cAAT,CAAyBC,KAAzB,KAAsC,gBAAtC,CACA,MAAO,YAAP,CACA,OAASC,YAAT,KAA6B,oBAA7B,C,wFAEA,QAASC,CAAAA,KAAT,EAAiB,CACf;AAEA,cAAgCX,QAAQ,CAAC,EAAD,CAAxC,wCAAOY,QAAP,eAAiBC,WAAjB,eACA,eAAgCb,QAAQ,CAAC,EAAD,CAAxC,yCAAOc,QAAP,eAAiBC,WAAjB,eACA,eAAwBf,QAAQ,CAAC,EAAD,CAAhC,yCAAOgB,IAAP,eAAaC,OAAb,eACA,eAA0BjB,QAAQ,CAAC,KAAD,CAAlC,yCAAOkB,KAAP,eAAcC,QAAd,eACA,eAA8BnB,QAAQ,CAAC,KAAD,CAAtC,0CAAOoB,OAAP,gBAAgBC,UAAhB,gBACA,gBAA8BrB,QAAQ,CAAC,KAAD,CAAtC,2CAAOsB,OAAP,gBAAgBC,UAAhB,gBACA,GAAMC,CAAAA,OAAO,CAAGtB,UAAU,EAA1B,CACA,gBAA8BF,QAAQ,CAAC,KAAD,CAAtC,2CAAOyB,OAAP,gBAAgBC,UAAhB,gBACA,gBAA0B1B,QAAQ,CAAC,EAAD,CAAlC,2CAAO2B,GAAP,gBAAYC,UAAZ,gBACA,GAAMC,CAAAA,EAAE,CAAG,OAAX,CAEA,GAAMC,CAAAA,aAAa,0FAAG,iBAAOC,CAAP,+HACpB;AACM3B,QAFc,CAEH,iDAFG,CAGpBmB,UAAU,CAAC,IAAD,CAAV,CACAQ,CAAC,CAACC,cAAF,GAJoB,KAKhB,CAACpB,QAAD,EAAa,CAACE,QALE,0BAMlBc,UAAU,CAAC,uCAAD,CAAV,CANkB,gCAOX,KAPW,SAUpBtB,KAAK,CACF2B,IADH,WACW7B,QADX,WAC6B,CAAEQ,QAAQ,CAARA,QAAF,CAAYE,QAAQ,CAARA,QAAZ,CAD7B,EAEGoB,IAFH,CAEQ,SAACC,QAAD,CAAc,CAClBZ,UAAU,CAAC,KAAD,CAAV,CACA;AACA,GACUa,CAAAA,WADV,CAEID,QAFJ,CACEE,IADF,CACUD,WADV,CAGA,GAAMC,CAAAA,IAAI,CAAGF,QAAQ,CAACE,IAAtB,CAEA,GAAIF,QAAQ,CAACG,MAAT,EAAmB,GAAvB,CAA4B,CAC1BC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAiCC,IAAI,CAACC,SAAL,CAAeP,QAAf,CAAjC,EACAX,OAAO,CAACmB,IAAR,CAAa,gBAAb,EACD,CACDrC,KAAK,CAACsC,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8BC,aAA9B,kBAAwDX,WAAxD,EACAG,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAoCJ,WAApC,EACA9B,KAAK,CAACsC,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8BC,aAA9B,kBAAwDV,IAAI,CAACD,WAA7D,EAEAG,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAoCH,IAAI,CAACD,WAAzC,EACA,GAAMY,CAAAA,WAAW,CAAGP,IAAI,CAACQ,KAAL,CAAWV,YAAY,CAACW,OAAb,CAAqB,aAArB,CAAX,CAApB,CACA;AACA,GAAMC,CAAAA,EAAE,CAAG7C,KAAK,CAAC2B,IAAN,WAAc7B,QAAd,WAAgC,CACzCgD,aAAa,CAAEJ,WAAW,CAACK,YADc,CAAhC,CAAX,CAIA,aAAwBF,EAAE,CAACd,IAA3B,CAAQiB,KAAR,UAAQA,KAAR,CAAetC,IAAf,UAAeA,IAAf,CACAuB,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BC,IAAI,CAACC,SAAL,CAAeY,KAAf,CAA9B,EACAf,YAAY,CAACC,OAAb,CAAqB,MAArB,CAA6BC,IAAI,CAACC,SAAL,CAAe1B,IAAf,CAA7B,EACA,OACA;AACA;AACA;AACA;AACA;AACA;AACD,CAnCH,EAoCGuC,KApCH,CAoCS,SAACC,GAAD,CAAS,CACd;AACA5B,UAAU,+HAAV,CAGAL,UAAU,CAAC,KAAD,CAAV,CACD,CA1CH,EAVoB,sDAAH,kBAAbO,CAAAA,aAAa,4CAAnB,CAuDA,QAAS2B,CAAAA,OAAT,CAAiB1B,CAAjB,CAAoB,CAClBA,CAAC,CAAC2B,eAAF,GACA,GAAI3B,CAAC,CAAC4B,GAAF,GAAU,OAAd,CAAuB,CACrB7B,aAAa,GACd,CACF,CAED,mBACE,aAAK,SAAS,CAAC,OAAf,wBACE,YAAK,SAAS,CAAC,cAAf,uBACE,YAAK,SAAS,CAAC,eAAf,EADF,EADF,cAIE,YAAK,SAAS,CAAC,gBAAf,uBACE,aAAK,SAAS,CAAC,kBAAf,wBACE,YAAK,GAAG,CAAEvB,IAAV,CAAgB,SAAS,CAAC,MAA1B,CAAiC,GAAG,CAAC,MAArC,EADF,kBACiD,aADjD,cAEE,aAAM,SAAS,CAAC,WAAhB,sCAFF,cAGE,cAAM,SAAS,CAAC,aAAhB,CAA8B,QAAQ,CAAEuB,aAAxC,wBACE,aAAK,SAAS,CAAC,mBAAf,wBACE,cACE,IAAI,CAAC,OADP,CAEE,SAAS,CAAC,gBAFZ,CAGE,WAAW,CAAC,GAHd,CAIE,KAAK,CAAElB,QAJT,CAKE,YAAY,CAAC,KALf,CAME,QAAQ,CAAE,kBAACmB,CAAD,QAAOlB,CAAAA,WAAW,CAACkB,CAAC,CAAC6B,MAAF,CAASC,KAAV,CAAlB,EANZ,CAOE,QAAQ,KAPV,EADF,cAUE,cAAO,OAAO,CAAC,UAAf,CAA0B,SAAS,CAAC,4BAApC,uBACE,aAAM,SAAS,CAAC,cAAhB,yBADF,EAVF,GADF,cAeE,aAAK,SAAS,CAAC,aAAf,wBACE,cACE,IAAI,CAAC,UADP,CAEE,SAAS,CAAC,gBAFZ,CAGE,WAAW,CAAC,GAHd,CAIE,KAAK,CAAE/C,QAJT,CAKE,YAAY,CAAC,KALf,CAME,QAAQ,CAAE,kBAACiB,CAAD,QAAOhB,CAAAA,WAAW,CAACgB,CAAC,CAAC6B,MAAF,CAASC,KAAV,CAAlB,EANZ,CAOE,QAAQ,KAPV,EADF,cAUE,cAAO,OAAO,CAAC,UAAf,CAA0B,SAAS,CAAC,4BAApC,uBACE,aAAM,SAAS,CAAC,cAAhB,sBADF,EAVF,GAfF,CA6BGlC,GAAG,eAAI,WAAG,SAAS,CAAC,eAAb,eAA+BA,GAA/B,GA7BV,CA8BGP,OAAO,eAAI,UAAG,SAAS,CAAC,iBAAb,UAAgCO,GAAhC,EA9Bd,cA+BE,KAAC,IAAD,EAAM,EAAE,CAAC,iBAAT,uBACE,aAAM,SAAS,CAAC,+BAAhB,wBADF,EA/BF,cAkCE,gBAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,WAAhC,CAA4C,QAAQ,CAAEL,OAAtD,WAEG,CAACA,OAAD,eAAY,+BAFf,CAGGA,OAAO,eAAI,uCAHd,GAlCF,cAuCE,aAAM,SAAS,CAAC,WAAhB,wCAvCF,cAyCE,KAAC,IAAD,EAAM,EAAE,CAAC,uBAAT,uBACE,eAAQ,SAAS,CAAC,mBAAlB,2BADF,EAzCF,GAHF,GADF,EAJF,cAwDE,cAAM,SAAS,CAAC,qBAAhB,oCAC2B,GAAIwC,CAAAA,IAAJ,GAAWC,WAAX,EAD3B,2BAxDF,CA2DGtC,OAAO,eAAI,KAAC,cAAD,IA3Dd,GADF,CA+DD,CAED,cAAed,CAAAA,KAAf","sourcesContent":["// import React from 'react';\r\n// import {useState} from \"react\";\r\n// import { Link, useHistory } from 'react-router-dom';\r\n// import MiniLoader from '../../Util/Loader';\r\n// import API from '../../Util/API';\r\n// import axios from 'axios';\r\n// import logo from '../../Assets/imgs/Git-logo.png';\r\n// import './auth.css'\r\n// import { ToastContainer, toast } from 'react-toastify';\r\n// import 'react-toastify/dist/ReactToastify.css';\r\n// import {ErrorToaster} from '../../Util/Toaster'\r\n\r\n// function Login() {\r\n//     const [username, setUsername] = useState(\"\");\r\n//     const [password, setPassword] = useState(\"\");\r\n//     const [success, setSuccess] = useState(false);\r\n//     const [loading, setLoading] = useState(false);\r\n//     const history = useHistory();\r\n//     const [toaster, setToaster] = useState(false);\r\n//     const [msg, setMessage] = useState(\"\");\r\n\r\n//     const submitHandler = async (e) => {\r\n//         const BASE_URL = 'https://dry-falls-41890.herokuapp.com/api/v1';\r\n//         setLoading(true);\r\n//         e.preventDefault();\r\n//         if(!username || !password){\r\n//             setMessage(\"Username/Password is a required field\");\r\n//             return false\r\n//         }\r\n\r\n//           axios\r\n//       .post(`${BASE_URL}/login`, { username, password })\r\n//       .then((response) => {\r\n//         setLoading(false);\r\n//         response);\r\n//         const data = response.data;\r\n\r\n//         axios.defaults.headers.common.Authorization = `Bearer ${data.accessToken}`;\r\n\r\n//         localStorage.setItem('accessToken', data.accessToken);\r\n//         const storedToken = JSON.parse(localStorage.getItem(\"accessToken\"));\r\n//        const rs = axios.post(`${BASE_URL}/token`, {\r\n//             refresh_token: storedToken.refreshToken,\r\n//           })\r\n\r\n//           const { token, user } = rs.data;\r\n//           localStorage.setItem(\"token\", JSON.stringify(token));\r\n//             localStorage.setItem(\"user\", JSON.stringify(user));\r\n//         return;\r\n//         localStorage.setItem('userInfo', JSON.stringify(response));\r\n\r\n//       })\r\n//       .catch((err) => {\r\n//           err);\r\n//           setMessage(`Oops! Something isn't right. Confirm\r\n//           (a) Your Username/Password and\r\n//           (b) Your Network connectivity`)\r\n//         setLoading(false);\r\n//       });\r\n\r\n//     }\r\nimport React from \"react\";\r\nimport { useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport MiniLoader from \"../../Util/Loader\";\r\nimport BASE_URL from \"../../Util/API\";\r\nimport API from \"../../Util/API\";\r\nimport axios from \"axios\";\r\nimport logo from \"../../Assets/imgs/Git-logo.png\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"./auth.css\";\r\nimport { ErrorToaster } from \"../../Util/Toaster\";\r\n\r\nfunction Login() {\r\n  // const [state , dispatch] = useStateValue();\r\n\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [user, setUser] = useState({});\r\n  const [error, setError] = useState(false);\r\n  const [success, setSuccess] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const history = useHistory();\r\n  const [toaster, setToaster] = useState(false);\r\n  const [msg, setMessage] = useState(\"\");\r\n  const br = \"<br/>\";\r\n\r\n  const submitHandler = async (e) => {\r\n    // \"hello\");\r\n    const BASE_URL = \"https://investment-app-x8v6.onrender.com/api/v1\";\r\n    setLoading(true);\r\n    e.preventDefault();\r\n    if (!username || !password) {\r\n      setMessage(\"Username/Password is a required field\");\r\n      return false;\r\n    }\r\n\r\n    axios\r\n      .post(`${BASE_URL}/login`, { username, password })\r\n      .then((response) => {\r\n        setLoading(false);\r\n        // response);\r\n        const {\r\n          data: { accessToken },\r\n        } = response;\r\n        const data = response.data;\r\n\r\n        if (response.status == 200) {\r\n          localStorage.setItem(\"userInfo\", JSON.stringify(response));\r\n          history.push(\"/app/dashboard\");\r\n        }\r\n        axios.defaults.headers.common.Authorization = `Bearer ${accessToken}`;\r\n        localStorage.setItem(\"accessToken\", accessToken);\r\n        axios.defaults.headers.common.Authorization = `Bearer ${data.accessToken}`;\r\n\r\n        localStorage.setItem(\"accessToken\", data.accessToken);\r\n        const storedToken = JSON.parse(localStorage.getItem(\"accessToken\"));\r\n        // localStorage.setItem('accessToken', data.accessToken);\r\n        const rs = axios.post(`${BASE_URL}/token`, {\r\n          refresh_token: storedToken.refreshToken,\r\n        });\r\n\r\n        const { token, user } = rs.data;\r\n        localStorage.setItem(\"token\", JSON.stringify(token));\r\n        localStorage.setItem(\"user\", JSON.stringify(user));\r\n        return;\r\n        //   .then((response) => {\r\n        //     response);\r\n        //     const { data } = response;\r\n        //     localStorage.setItem('operator', JSON.stringify(data));\r\n        //     data)\r\n        //   });\r\n      })\r\n      .catch((err) => {\r\n        // err);\r\n        setMessage(`Oops! Something isn't right. Confirm \r\n           (a) Your Username/Password and \r\n           (b) Your Network connectivity`);\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  function onEnter(e) {\r\n    e.stopPropagation();\r\n    if (e.key === \"Enter\") {\r\n      submitHandler();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <div className=\"login__badge\">\r\n        <div className=\"logo__section\"></div>\r\n      </div>\r\n      <div className=\"login__section\">\r\n        <div className=\"login__container\">\r\n          <img src={logo} className=\"logo\" alt=\"Logo\" /> <br />\r\n          <span className=\"sub-title\">Login to Dividend Global</span>\r\n          <form className=\"login__form\" onSubmit={submitHandler}>\r\n            <div className=\"form mb-lg mtb-10\">\r\n              <input\r\n                type=\"email\"\r\n                className=\"page-form f-11\"\r\n                placeholder=\" \"\r\n                value={username}\r\n                autoComplete=\"off\"\r\n                onChange={(e) => setUsername(e.target.value)}\r\n                required\r\n              />\r\n              <label htmlFor=\"username\" className=\"label-name floating__label\">\r\n                <span className=\"content-name\">Username/ID</span>\r\n              </label>\r\n            </div>\r\n            <div className=\"form mtb-10\">\r\n              <input\r\n                type=\"password\"\r\n                className=\"page-form f-11\"\r\n                placeholder=\" \"\r\n                value={password}\r\n                autoComplete=\"off\"\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                required\r\n              />\r\n              <label htmlFor=\"password\" className=\"label-name floating__label\">\r\n                <span className=\"content-name\">Security</span>\r\n              </label>\r\n            </div>\r\n            {msg && <p className=\"typical-error\"> {msg}</p>}\r\n            {success && <p className=\"typical-success\">{msg}</p>}\r\n            <Link to=\"/password-reset\">\r\n              <span className=\"sub-title t-right mt-md mb-lg\">Forgotten?</span>\r\n            </Link>\r\n            <button type=\"submit\" className=\"login-btn\" disabled={loading}>\r\n              {/* { loading && <MiniLoader/> } */}\r\n              {!loading && <span>Login</span>}\r\n              {loading && <span> Verifying...</span>}\r\n            </button>\r\n            <span className=\"sub-title\">Don't have an account yet?</span>\r\n            {/* <p className=\"label-name\">Don't have an account yet?</p> */}\r\n            <Link to=\"/account/investor/new\">\r\n              <button className=\"btn btn-secondary\">Open Account </button>\r\n            </Link>\r\n          </form>\r\n        </div>\r\n      </div>\r\n\r\n      <span className=\"sub-title copyright\">\r\n        Dividend Global! &copy; {new Date().getFullYear()}. All rights reserved\r\n      </span>\r\n      {toaster && <ToastContainer />}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}