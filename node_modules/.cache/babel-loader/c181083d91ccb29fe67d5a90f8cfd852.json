{"ast":null,"code":"import _slicedToArray from\"/Users/muhammedmusa/Documents/Other-Projects/globaltrade/investment-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Line,Doughnut}from'react-chartjs-2';import BASE_URL from'../../Util/API';import axios from'axios';// Doughnut Data \n// data for line graph\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var lineGraphData={labels:['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],datasets:[{label:'Deposit',data:[2500000,2500000,2500000,6200000,2500000,2500000,2500000,11500000,2500000,2500000,2500000,2500000],fill:false,borderColor:'#22c58c'},{label:'Withdrawn',data:[25000,700000,7790000,950000,700000,1950000],fill:false,borderColor:'#ff2757'}]};//   Graph Options Turn Legends off\n// const options = {\n//   plugins: {\n//     legend: {\n//       display: false\n//     },\n//   }\n// }\nvar options={plugins:{tooltip:{enabled:true},legend:{display:false}},cutout:'90%',responsive:true,maintainAspectRatio:true,spacing:5};var GraphInfo=function GraphInfo(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),disbursed=_useState2[0],setDisbursed=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),paidInByCustomers=_useState4[0],setPaidInByCustomers=_useState4[1];useEffect(function(){// getAllBorrowers();\n// getUserInfo();\n// calPaidInByCustomers();\n// getAllLoans();\ngetAllInvestors();// filterBorrowers();\n},[]);var ratioPaidLoanedBalance={labels:['Deposit','Withdrawn'],datasets:[{label:'My Funds',data:[disbursed,paidInByCustomers],backgroundColor:[// 'rgb(36 111 162)',\n'#7bcd1cf7','#ff2757'],borderColor:[// 'rgb(36 111 162)',\n'#7bcd1cf7','#ff2757'// '#7bcd1cf7'\n],hoverBackgroundColor:[// 'rgb(36 111 162)',\n'#7bcd1cf7','#ff2757'],hoverOffset:8}]};var getAllInvestors=function getAllInvestors(){var tempArr=[];var tempWithdrawal=[];axios.get(\"\".concat(BASE_URL,\"/users\")).then(function(response){response.data.results.map(function(user){user.investments.map(function(investment){tempArr.push(investment);var totalDisbursed=tempArr.reduce(function(total,currentValue){return total=total+currentValue.amount;},0);setDisbursed(totalDisbursed);// \n});user.withdrawals.map(function(withdrawal){tempWithdrawal.push(withdrawal);var paidIn=tempWithdrawal.reduce(function(total,currentValue){return total=total+currentValue.amount;},0);setPaidInByCustomers(paidIn);// \n});});}).catch(function(error){console.log(error);// toast.error(error.message);\n});};return/*#__PURE__*/_jsxs(\"div\",{className:\"graph__info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"right\",children:[/*#__PURE__*/_jsx(Doughnut,{data:ratioPaidLoanedBalance,options:options}),/*#__PURE__*/_jsxs(\"div\",{className:\"legends\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"wallet bg-lemon\"}),\"Deposit\",/*#__PURE__*/_jsx(\"div\",{className:\"loaned m-l-sm bg-red\"}),\"Withdrawn\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"left\",children:[/*#__PURE__*/_jsx(Line,{data:lineGraphData,options:options}),/*#__PURE__*/_jsxs(\"div\",{className:\"legends pull-right\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"investment bg-green\"}),\"Deposit\",/*#__PURE__*/_jsx(\"div\",{className:\"reward m-l-sm bg-red\"}),\"Withdrawn\"]})]})]});};export default GraphInfo;","map":{"version":3,"sources":["/Users/muhammedmusa/Documents/Other-Projects/globaltrade/investment-app/src/Components/widgets/GraphInfo.js"],"names":["React","useState","useEffect","Line","Doughnut","BASE_URL","axios","lineGraphData","labels","datasets","label","data","fill","borderColor","options","plugins","tooltip","enabled","legend","display","cutout","responsive","maintainAspectRatio","spacing","GraphInfo","disbursed","setDisbursed","paidInByCustomers","setPaidInByCustomers","getAllInvestors","ratioPaidLoanedBalance","backgroundColor","hoverBackgroundColor","hoverOffset","tempArr","tempWithdrawal","get","then","response","results","map","user","investments","investment","push","totalDisbursed","reduce","total","currentValue","amount","withdrawals","withdrawal","paidIn","catch","error","console","log"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport { Line, Doughnut } from 'react-chartjs-2';\r\nimport BASE_URL from '../../Util/API';\r\nimport axios from 'axios';\r\n\r\n// Doughnut Data \r\n\r\n\r\n\r\n// data for line graph\r\nconst lineGraphData = {\r\n    labels: ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],\r\n    datasets: [\r\n      {\r\n        label: 'Deposit',\r\n        data: [2500000, 2500000, 2500000, 6200000, 2500000, 2500000, 2500000, 11500000, 2500000, 2500000, 2500000, 2500000 ],\r\n        fill: false,\r\n        borderColor:  '#22c58c'\r\n      },\r\n      {\r\n        label: 'Withdrawn',\r\n        data: [25000, 700000, 7790000,950000,700000, 1950000],\r\n        fill: false,\r\n        borderColor: '#ff2757'\r\n      },\r\n    ],\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n//   Graph Options Turn Legends off\r\n  // const options = {\r\n  //   plugins: {\r\n  //     legend: {\r\n  //       display: false\r\n  //     },\r\n  //   }\r\n  // }\r\n\r\n\r\n  const options = {\r\n    plugins: {\r\n      tooltip: {\r\n        enabled: true,\r\n      },\r\n      legend: {\r\n        display: false\r\n      },\r\n    },\r\n    cutout: '90%',\r\n    responsive: true,\r\n    maintainAspectRatio: true,\r\n    spacing: 5\r\n  }\r\n\r\n\r\n\r\n\r\n\r\nconst GraphInfo = () => {\r\n\r\n\r\n  const [disbursed, setDisbursed] = useState(0);\r\n  const [paidInByCustomers, setPaidInByCustomers] = useState(0);\r\n\r\n  useEffect(() => {\r\n    // getAllBorrowers();\r\n    // getUserInfo();\r\n    // calPaidInByCustomers();\r\n    // getAllLoans();\r\n    getAllInvestors();\r\n    // filterBorrowers();\r\n  }, []);\r\n  \r\n\r\n\r\n  const ratioPaidLoanedBalance = {\r\n    labels: [ \r\n        'Deposit',\r\n        'Withdrawn'\r\n      ],\r\n      datasets: [{\r\n        label: 'My Funds',\r\n        data: [disbursed, paidInByCustomers],\r\n        backgroundColor: [\r\n          // 'rgb(36 111 162)',\r\n          '#7bcd1cf7',\r\n          '#ff2757',\r\n          \r\n        ],\r\n        borderColor: [\r\n            // 'rgb(36 111 162)',\r\n            '#7bcd1cf7',\r\n            '#ff2757',\r\n            // '#7bcd1cf7'\r\n          ],\r\n          hoverBackgroundColor: [\r\n            // 'rgb(36 111 162)',\r\n            '#7bcd1cf7',\r\n          '#ff2757',\r\n          \r\n          ],\r\n        hoverOffset: 8,\r\n      }]}\r\n\r\n\r\n\r\n  const getAllInvestors = ()=> {\r\n    let tempArr = [];\r\n    let tempWithdrawal = [];\r\n    axios.get(`${BASE_URL}/users`)\r\n      .then((response) => {\r\n        response.data.results.map((user)=>{\r\n            user.investments.map((investment)=>{\r\n                tempArr.push(investment);\r\n                let totalDisbursed = tempArr.reduce((total, currentValue) =>  total = total + currentValue.amount , 0 );\r\n                setDisbursed(totalDisbursed);\r\n                // \r\n            })\r\n            user.withdrawals.map((withdrawal)=>{\r\n              tempWithdrawal.push(withdrawal);\r\n              let paidIn = tempWithdrawal.reduce((total, currentValue) =>  total = total + currentValue.amount , 0 );\r\n              setPaidInByCustomers(paidIn);\r\n              // \r\n          })\r\n        })\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        // toast.error(error.message);\r\n      });\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    return(\r\n        <div className=\"graph__info\">\r\n            <div className=\"right\">\r\n                <Doughnut data =  {ratioPaidLoanedBalance}  options = {options}/> \r\n\r\n                 <div className=\"legends\">\r\n                            <div className=\"wallet bg-lemon\"></div>Deposit\r\n                            <div className=\"loaned m-l-sm bg-red\"></div>Withdrawn\r\n                            {/* <div className=\"paid m-l-sm bg-blue\"></div>Wallet */}\r\n                        </div>\r\n            </div>\r\n\r\n\r\n\r\n            <div className=\"left\">\r\n                        <Line data={lineGraphData} options={options} />\r\n                        <div className=\"legends pull-right\">\r\n                            <div className=\"investment bg-green\"></div>Deposit\r\n                            <div className=\"reward m-l-sm bg-red\"></div>Withdrawn\r\n                        </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default GraphInfo;"]},"metadata":{},"sourceType":"module"}